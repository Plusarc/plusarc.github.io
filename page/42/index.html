<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="google88d81a02a91db82f" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Plusaber&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Plusaber's Blog">
<meta property="og:url" content="http://yoursite.com/page/42/index.html">
<meta property="og:site_name" content="Plusaber's Blog">
<meta property="og:description" content="Plusaber&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Plusaber's Blog">
<meta name="twitter:description" content="Plusaber&apos;s Blog">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/page/42/"/>


  <title> Plusaber's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-hk">

  


<!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-79158075-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Plusaber's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/18/Leetcode_Divide Two Integers/" itemprop="url">
                  Divide Two Integers
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-07-18T00:00:00+09:00" content="2015-07-18">
              2015-07-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/07/18/Leetcode_Divide Two Integers/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/07/18/Leetcode_Divide Two Integers/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Divide-Two-Integers"><a href="#Divide-Two-Integers" class="headerlink" title="Divide Two Integers"></a><a href="https://leetcode.com/problems/divide-two-integers/" target="_blank" rel="external">Divide Two Integers</a></h1><blockquote>
<p>Divide two integers without using multiplication, division and mod operator.</p>
<p>If it is overflow, return MAX_INT.</p>
</blockquote>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>注意处理越界的情况。</p>
<p>关键点是，对于两个数m，n，不断将n乘以2，直到找到最大的基数，然后减去继续需找下一个基数。最后将对应的系数都求和，得到最后的商。</p>
<p>比较好的解释：任何一个整数可以表示成以2的幂为底的一组基的线性组合，即<code>num=a_0*2^0+a_1*2^1+a_2*2^2+...+a_n*2^n</code>。基于以上这个公式以及左移一位相当于乘以2，我们先让除数左移直到大于被除数之前得到一个最大的基。然后接下来我们每次尝试减去这个基，如果可以则结果增加加2^k,然后基继续右移迭代，直到基为0为止。这个方法的迭代次数是按2的幂直到超过结果，所以时间复杂度为O(logn)。</p>
<p>注意处理越界的情况。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</div><div class="line">		 <span class="keyword">if</span>(divisor==<span class="number">1</span>) <span class="keyword">return</span> dividend;</div><div class="line">		 <span class="keyword">if</span>(divisor==<span class="number">0</span>) <span class="keyword">return</span> Integer.MAX_VALUE;</div><div class="line">		 <span class="keyword">if</span>(dividend==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		 <span class="keyword">if</span>(dividend==Integer.MIN_VALUE &amp;&amp; divisor==-<span class="number">1</span>) <span class="keyword">return</span> Integer.MAX_VALUE;</div><div class="line">		 <span class="keyword">boolean</span> isNeg = (dividend&lt;<span class="number">0</span> &amp;&amp; divisor&gt;<span class="number">0</span>) || (dividend&gt;<span class="number">0</span> &amp;&amp; divisor&lt;<span class="number">0</span>);</div><div class="line">		 <span class="keyword">int</span> res = recDivide(Math.abs((<span class="keyword">long</span>)dividend), Math.abs((<span class="keyword">long</span>)divisor));</div><div class="line">		 <span class="keyword">return</span> isNeg ? -res : res;</div><div class="line">	 &#125;</div><div class="line"></div><div class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">recDivide</span><span class="params">(<span class="keyword">long</span> dividend, <span class="keyword">long</span> divisor)</span></span>&#123;</div><div class="line">		 <span class="keyword">long</span> base = divisor;</div><div class="line">		 <span class="keyword">long</span> part = <span class="number">1</span>;</div><div class="line">		 <span class="keyword">long</span> cum = <span class="number">0</span>;</div><div class="line">		 <span class="keyword">while</span>(base&lt;dividend ) &#123;</div><div class="line">			 base &lt;&lt;= <span class="number">1</span>;</div><div class="line">			 part &lt;&lt;= <span class="number">1</span>;</div><div class="line">		 &#125;</div><div class="line">		 <span class="keyword">while</span>(base&gt;=divisor)&#123;</div><div class="line">			 <span class="keyword">while</span>(dividend&gt;=base)&#123;</div><div class="line">				 dividend -= base;</div><div class="line">				 cum += part;</div><div class="line">			 &#125;</div><div class="line">			 base &gt;&gt;= <span class="number">1</span>;</div><div class="line">			 part &gt;&gt;= <span class="number">1</span>;</div><div class="line">		 &#125;</div><div class="line">		 <span class="keyword">return</span> (<span class="keyword">int</span>)cum;</div><div class="line">	 &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/18/Leetcode_Roman to Integer/" itemprop="url">
                  Roman to Integer
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-07-18T00:00:00+09:00" content="2015-07-18">
              2015-07-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/07/18/Leetcode_Roman to Integer/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/07/18/Leetcode_Roman to Integer/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Roman-to-Integer"><a href="#Roman-to-Integer" class="headerlink" title="Roman to Integer"></a><a href="https://leetcode.com/problems/roman-to-integer/" target="_blank" rel="external">Roman to Integer</a></h1><blockquote>
<p>Given a roman numeral, convert it to an integer.</p>
<p>Input is guaranteed to be within the range from 1 to 3999.</p>
</blockquote>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>遇到字母加入其对应数值，如果当前字母大于上一个字母，则减去2倍的上一个字母所对于的数值。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">romanToInt</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    	<span class="keyword">if</span>(s.length()==<span class="number">1</span>) <span class="keyword">return</span> romanCharToNum(s.charAt(<span class="number">0</span>));</div><div class="line">    	</div><div class="line">        <span class="keyword">int</span> num = romanCharToNum(s.charAt(<span class="number">0</span>));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s.length(); i++) &#123;</div><div class="line">        	<span class="keyword">if</span>(romanCharToNum(s.charAt(i))&lt;=romanCharToNum(s.charAt(i-<span class="number">1</span>))) </div><div class="line">        		num += romanCharToNum(s.charAt(i));</div><div class="line">        	<span class="keyword">else</span> num = num - <span class="number">2</span> * romanCharToNum(s.charAt(i-<span class="number">1</span>)) + romanCharToNum(s.charAt(i));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> num;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">romanCharToNum</span><span class="params">(<span class="keyword">char</span> rc)</span> </span>&#123;</div><div class="line">    	<span class="keyword">switch</span>(rc) &#123;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'I'</span> : <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'V'</span> : <span class="keyword">return</span> <span class="number">5</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'X'</span> : <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'L'</span> : <span class="keyword">return</span> <span class="number">50</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'C'</span> : <span class="keyword">return</span> <span class="number">100</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'D'</span> : <span class="keyword">return</span> <span class="number">500</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'M'</span> : <span class="keyword">return</span> <span class="number">1000</span>;</div><div class="line">    		<span class="keyword">default</span>  : <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">    	&#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/18/Leetcode_Integer to Roman/" itemprop="url">
                  Integer to Roman
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-07-18T00:00:00+09:00" content="2015-07-18">
              2015-07-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/07/18/Leetcode_Integer to Roman/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/07/18/Leetcode_Integer to Roman/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Integer-to-Roman"><a href="#Integer-to-Roman" class="headerlink" title="Integer to Roman"></a><a href="https://leetcode.com/problems/integer-to-roman/" target="_blank" rel="external">Integer to Roman</a></h1><blockquote>
<p>Given an integer, convert it to a roman numeral.</p>
<p>Input is guaranteed to be within the range from 1 to 3999.</p>
</blockquote>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>每个阿拉伯数值范围都有罗马数字对应的表示范围，采用贪心策略，每次获得当前数值最大的罗马数字，然后将其从数值中扣去，进行下一步递归，直到需要表示的数字为<code>0</code>。注意处理需要减去的数，每次选用一个当前最大数值后，可能出现超过需要表示的数值的情况，这时需要减去这个罗马数字对应的补偿数值，然后继续递归表示不足部分。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(num&gt;<span class="number">3999</span> || num&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">    	</div><div class="line">    	<span class="keyword">return</span> recurTo(num);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">recurTo</span> <span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(num==<span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">    	<span class="keyword">char</span> piv = numCorRoman(num);</div><div class="line">    	num = num - romanCharToNum(piv);</div><div class="line">    	</div><div class="line">    	<span class="comment">//System.out.println("num: " + num);</span></div><div class="line">    	<span class="keyword">if</span>(num&gt;<span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>+ piv + recurTo(num);</div><div class="line">    	<span class="keyword">if</span>(num&lt;<span class="number">0</span>) &#123;</div><div class="line">    		<span class="keyword">char</span> pri = smallestCorRoman(piv);</div><div class="line">    		<span class="comment">//System.out.println("pri: " + pri);</span></div><div class="line">    		num = num + romanCharToNum(pri);</div><div class="line">    		<span class="keyword">return</span> <span class="string">""</span> + pri + piv + recurTo(num);</div><div class="line">    	&#125; </div><div class="line">    	</div><div class="line">    	<span class="keyword">return</span> <span class="string">""</span>+ piv;</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">char</span> <span class="title">numCorRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">900</span>) <span class="keyword">return</span> <span class="string">'M'</span>;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">400</span>) <span class="keyword">return</span> <span class="string">'D'</span>;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">90</span>) <span class="keyword">return</span> <span class="string">'C'</span>;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">40</span>) <span class="keyword">return</span> <span class="string">'L'</span>;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">9</span>) <span class="keyword">return</span> <span class="string">'X'</span>;</div><div class="line">    	<span class="keyword">if</span>(num&gt;=<span class="number">4</span>) <span class="keyword">return</span> <span class="string">'V'</span>;</div><div class="line">    	<span class="keyword">else</span> <span class="keyword">return</span> <span class="string">'I'</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">char</span> <span class="title">smallestCorRoman</span><span class="params">(<span class="keyword">char</span> piv)</span> </span>&#123;</div><div class="line">    	<span class="keyword">switch</span>(piv) &#123;</div><div class="line">			<span class="keyword">case</span> <span class="string">'V'</span> : ;</div><div class="line">			<span class="keyword">case</span> <span class="string">'X'</span> : <span class="keyword">return</span> <span class="string">'I'</span>;</div><div class="line">			<span class="keyword">case</span> <span class="string">'L'</span> : ;</div><div class="line">			<span class="keyword">case</span> <span class="string">'C'</span> : <span class="keyword">return</span> <span class="string">'X'</span>;</div><div class="line">			<span class="keyword">case</span> <span class="string">'D'</span> : ;</div><div class="line">			<span class="keyword">case</span> <span class="string">'M'</span> : <span class="keyword">return</span> <span class="string">'C'</span>;</div><div class="line">			<span class="keyword">default</span>  : <span class="keyword">return</span> <span class="string">' '</span>; </div><div class="line">    	&#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">romanCharToNum</span><span class="params">(<span class="keyword">char</span> rc)</span> </span>&#123;</div><div class="line">    	<span class="keyword">switch</span>(rc) &#123;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'I'</span> : <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'V'</span> : <span class="keyword">return</span> <span class="number">5</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'X'</span> : <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'L'</span> : <span class="keyword">return</span> <span class="number">50</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'C'</span> : <span class="keyword">return</span> <span class="number">100</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'D'</span> : <span class="keyword">return</span> <span class="number">500</span>;</div><div class="line">    		<span class="keyword">case</span> <span class="string">'M'</span> : <span class="keyword">return</span> <span class="number">1000</span>;</div><div class="line">    		<span class="keyword">default</span>  : <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">    	&#125;</div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/17/Leetcode_Palindrome Linked List /" itemprop="url">
                  Palindrome Linked List
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-07-17T00:00:00+09:00" content="2015-07-17">
              2015-07-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/07/17/Leetcode_Palindrome Linked List /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/07/17/Leetcode_Palindrome Linked List /" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Palindrome-Linked-List"><a href="#Palindrome-Linked-List" class="headerlink" title="Palindrome Linked List"></a><a href="https://leetcode.com/problems/palindrome-linked-list/" target="_blank" rel="external">Palindrome Linked List</a></h1><blockquote>
<p>Given a singly linked list, determine if it is a palindrome.</p>
<p>Follow up:<br>Could you do it in O(n) time and O(1) space?</p>
</blockquote>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>最直接的解法是使用栈，前半段压栈，后半段弹出比较，不过空间复杂度为O(n)。</p>
<p>更高效的是，遍历将前半段指针逆转，然后设置左右指针分别从中心开始向左向右移动，判断是否相等，直到出现不相等元素或者到左右末端，返回结果。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>###Second time solution</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for singly-linked list.</div><div class="line"> * public class ListNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     ListNode next;</div><div class="line"> *     ListNode(int x) &#123; val = x; &#125;</div><div class="line"> * &#125;</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(ListNode head)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(head==<span class="keyword">null</span> || head.next==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">int</span> length = <span class="number">0</span>;</div><div class="line">        ListNode current = head;</div><div class="line">        <span class="keyword">while</span>(current!=<span class="keyword">null</span>) &#123;</div><div class="line">            current = current.next;</div><div class="line">            length ++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        ListNode last = <span class="keyword">null</span>;</div><div class="line">        current = head;</div><div class="line">        <span class="keyword">int</span> reverse = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(reverse&lt;=length/<span class="number">2</span>) &#123;</div><div class="line">            ListNode temp = current.next;</div><div class="line">            current.next = last;</div><div class="line">            last = current;</div><div class="line">            current = temp;</div><div class="line">            reverse ++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        ListNode left, right;</div><div class="line">        <span class="keyword">if</span>(length%<span class="number">2</span>==<span class="number">0</span>) &#123;</div><div class="line">            left = last;</div><div class="line">            right = current;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            left = last;</div><div class="line">            right = current.next;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">while</span>(left!=<span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(left.val!=right.val) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            left = left.next;</div><div class="line">            right = right.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="First-time-solution"><a href="#First-time-solution" class="headerlink" title="First time solution"></a>First time solution</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for singly-linked list.</div><div class="line"> * public class ListNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     ListNode next;</div><div class="line"> *     ListNode(int x) &#123; val = x; &#125;</div><div class="line"> * &#125;</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="comment">// 基本解法，使用栈，快慢指针可以一遍找到中点。--时间O(n), 空间O(n)</span></div><div class="line"></div><div class="line"><span class="comment">// 递归解法，时间O(n), 空间O(1)</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Result</span> </span>&#123;</div><div class="line">    <span class="keyword">boolean</span> pal;</div><div class="line">    ListNode nextNode;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(ListNode head)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(head==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        ListNode currentNode = head;</div><div class="line">        <span class="keyword">int</span> length = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(currentNode!=<span class="keyword">null</span>) &#123;</div><div class="line">            length ++;</div><div class="line">            currentNode = currentNode.next;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        Result res = recPal(head, <span class="number">0</span>, length);</div><div class="line">        <span class="keyword">return</span> res.pal;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> Result <span class="title">recPal</span><span class="params">(ListNode head, <span class="keyword">int</span> pos, <span class="keyword">int</span> length)</span> </span>&#123;</div><div class="line">        Result res = <span class="keyword">new</span> Result();</div><div class="line">        <span class="keyword">if</span>(length%<span class="number">2</span>==<span class="number">0</span> &amp;&amp; pos==length/<span class="number">2</span>-<span class="number">1</span>) &#123;</div><div class="line">            res.pal = head.val==head.next.val;</div><div class="line">            res.nextNode = head.next.next;</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(length%<span class="number">2</span>!=<span class="number">0</span> &amp;&amp; pos==length/<span class="number">2</span>) &#123;</div><div class="line">            res.pal = <span class="keyword">true</span>;</div><div class="line">            res.nextNode = head.next;</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        res = recPal(head.next, pos+<span class="number">1</span>, length);</div><div class="line">        <span class="keyword">if</span>(!res.pal) <span class="keyword">return</span> res;</div><div class="line">        <span class="keyword">if</span>(head.val!=res.nextNode.val) &#123;</div><div class="line">        	res.pal = <span class="keyword">false</span>;</div><div class="line">        	<span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">        res.nextNode = res.nextNode.next;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/16/DSA_Immutable Stack/" itemprop="url">
                  Immutable Stack and Queue
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-07-16T00:00:00+09:00" content="2015-07-16">
              2015-07-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/DSA/" itemprop="url" rel="index">
                    <span itemprop="name">DSA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/07/16/DSA_Immutable Stack/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/07/16/DSA_Immutable Stack/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Immutable-Stack"><a href="#Immutable-Stack" class="headerlink" title="Immutable Stack"></a><a href="https://blogs.msdn.microsoft.com/ericlippert/2007/12/04/immutability-in-c-part-two-a-simple-immutable-stack/" target="_blank" rel="external">Immutable Stack</a></h1><p>最近实验需要使用到immutable stack，直接复制创建新的栈时间和空间效率都十分低，这里对高效实现immutable stack以及queue进行一个简单的学习总结。由于已经有文章很好的介绍了实现思想，主要是利用链表的思想，这里就直接引用了，具体参考<a href="https://blogs.msdn.microsoft.com/ericlippert/2007/12/04/immutability-in-c-part-two-a-simple-immutable-stack/" target="_blank" rel="external">Immutable Stack</a>.</p>
<p>Let’s start with something simple: an immutable stack.</p>
<p>Now, immediately I hear the objection: a stack is by its very nature something that changes. A stack is an abstract data type (ADT) with the interface</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(T t)</span></span>;</div><div class="line"><span class="function">T <span class="title">Pop</span><span class="params">()</span></span>;</div><div class="line"><span class="keyword">bool</span> IsEmpty &#123; get; &#125;</div></pre></td></tr></table></figure>
<p>You push stuff onto it, you pop stuff off of it, it changes. How can it be immutable?</p>
<p>Every time you need to make a data structure immutable, you use basically the same trick: an operation which “changes” the data structure does so by constructing a new data structure. The original data structure stays the same.</p>
<p>How can that possibly be efficient? Surely we’ll be allocating memory all over the place! Well, actually, in this case, no. An immutable stack is every bit as efficient as a mutable stack. Even better: in some cases, it can be considerably more efficient, as we’ll see.</p>
<p>Let’s start by defining an interface for our immutable structure. While we’re at it, we’ll fix a problem with the stack ADT above, namely that you cannot interrogate the stack without changing it. And we’ll make the stack enumerable just for the heck of it:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> interface IStack&lt;T&gt; : IEnumerable&lt;T&gt;</div><div class="line">&#123;</div><div class="line">    IStack&lt;T&gt; Push(T value);</div><div class="line">    IStack&lt;T&gt; Pop();</div><div class="line">    <span class="function">T <span class="title">Peek</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">bool</span> IsEmpty &#123; get; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Pushing and popping give you back an entirely new stack, and Peek lets you look at the top of the stack without popping it.</p>
<p>Now let’s think about constructing one of these things here.</p>
<p>Clearly if we have an existing stack we can construct a new one by pushing or popping it. But we have to start somewhere. Since every empty stack is the same, it seems sensible to have a singleton empty stack.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> sealed <span class="keyword">class</span> Stack&lt;T&gt; : IStack&lt;T&gt;</div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> sealed <span class="keyword">class</span> EmptyStack : IStack&lt;T&gt;</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">bool</span> IsEmpty &#123; get &#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125; &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">Peek</span><span class="params">()</span> </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Empty stack"</span>); &#125;</div><div class="line">        <span class="keyword">public</span> IStack&lt;T&gt; Push(T value) &#123; <span class="keyword">return</span> <span class="keyword">new</span> Stack&lt;T&gt;(value, <span class="keyword">this</span>); &#125;</div><div class="line">        <span class="keyword">public</span> IStack&lt;T&gt; Pop() &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Empty stack"</span>); &#125;</div><div class="line">        <span class="keyword">public</span> IEnumerator&lt;T&gt; GetEnumerator() &#123; yield <span class="keyword">break</span>; &#125;</div><div class="line">        IEnumerator IEnumerable.GetEnumerator() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.GetEnumerator(&#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> readonly EmptyStack empty = <span class="keyword">new</span> EmptyStack();</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> IStack&lt;T&gt; Empty &#123; get &#123; <span class="keyword">return</span> empty; &#125; &#125;</div><div class="line">    <span class="keyword">private</span> readonly T head;</div><div class="line">    <span class="keyword">private</span> readonly IStack&lt;T&gt; tail;</div><div class="line">    <span class="keyword">private</span> Stack(T head, IStack&lt;T&gt; tail)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">this</span>.head = head;</div><div class="line">        <span class="keyword">this</span>.tail = tail;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> IsEmpty &#123; get &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125; &#125;</div><div class="line">    <span class="keyword">public</span> T Peek() &#123; <span class="keyword">return</span> head; &#125;</div><div class="line">    <span class="keyword">public</span> IStack&lt;T&gt; Pop() &#123; <span class="keyword">return</span> tail; &#125;</div><div class="line">    <span class="keyword">public</span> IStack&lt;T&gt; Push(T value) &#123; <span class="keyword">return</span> <span class="keyword">new</span> Stack&lt;T&gt;(value, <span class="keyword">this</span>); &#125;</div><div class="line">    <span class="keyword">public</span> IEnumerator&lt;T&gt; GetEnumerator()</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span>(IStack&lt;T&gt; <span class="built_in">stack</span> = <span class="keyword">this</span>; !<span class="built_in">stack</span>.IsEmpty ; <span class="built_in">stack</span> = <span class="built_in">stack</span>.Pop())</div><div class="line">            yield <span class="keyword">return</span> <span class="built_in">stack</span>.Peek();</div><div class="line">    &#125;</div><div class="line">    IEnumerator IEnumerable.GetEnumerator() &#123;<span class="keyword">return</span> <span class="keyword">this</span>.GetEnumerator();&#125;</div></pre></td></tr></table></figure>
<p>And now we can easily create stacks and push stuff onto them. Notice how the fact that we have immutability means that stacks with the same tail can share state, saving on memory:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">IStack&lt;<span class="keyword">int</span>&gt; s1 = Stack&lt;<span class="keyword">int</span>&gt;.Empty;</div><div class="line">IStack&lt;<span class="keyword">int</span>&gt; s2 = s1.Push(<span class="number">10</span>);</div><div class="line">IStack&lt;<span class="keyword">int</span>&gt; s3 = s2.Push(<span class="number">20</span>);</div><div class="line">IStack&lt;<span class="keyword">int</span>&gt; s4 = s2.Push(<span class="number">30</span>); <span class="comment">// shares its tail with s3.</span></div></pre></td></tr></table></figure>
<h1 id="Immutable-Queue"><a href="#Immutable-Queue" class="headerlink" title="Immutable Queue"></a>Immutable Queue</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</div><div class="line"><span class="keyword">import</span> java.util.Queue;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersistentQueue</span>&lt;<span class="title">E</span>&gt; </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PersistentStack</span>&lt;<span class="title">E</span>&gt; </span>&#123;</div><div class="line">		<span class="keyword">private</span> E head;</div><div class="line">		<span class="keyword">private</span> PersistentStack&lt;E&gt; tail;</div><div class="line">		<span class="keyword">private</span> <span class="keyword">int</span> size;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">private</span> <span class="title">PersistentStack</span><span class="params">(E obj, PersistentStack&lt;E&gt; tail)</span> </span>&#123;</div><div class="line">			<span class="keyword">this</span>.head = obj;</div><div class="line">			<span class="keyword">this</span>.tail = tail;</div><div class="line">			<span class="keyword">this</span>.size = tail.size + <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PersistentStack <span class="title">emptyStack</span><span class="params">()</span> </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">new</span> PersistentStack();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">private</span> <span class="title">PersistentStack</span><span class="params">()</span> </span>&#123;</div><div class="line">			<span class="keyword">this</span>.head = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">this</span>.tail = <span class="keyword">null</span>;</div><div class="line">			<span class="keyword">this</span>.size = <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">public</span> PersistentStack&lt;E&gt; <span class="title">toReverseStack</span><span class="params">()</span> </span>&#123;</div><div class="line">			PersistentStack&lt;E&gt; stack = <span class="keyword">new</span> PersistentStack&lt;E&gt;();</div><div class="line">			PersistentStack&lt;E&gt; tail = <span class="keyword">this</span>;</div><div class="line">			<span class="keyword">while</span> (!tail.isEmpty()) &#123;</div><div class="line">				stack = stack.push(tail.head);</div><div class="line">				tail = tail.tail;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">return</span> stack;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.size == <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="function"><span class="keyword">public</span> PersistentStack&lt;E&gt; <span class="title">push</span><span class="params">(E obj)</span> </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">new</span> PersistentStack&lt;E&gt;(obj, <span class="keyword">this</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> PersistentStack&lt;E&gt; order;</div><div class="line">	<span class="keyword">private</span> PersistentStack&lt;E&gt; reverse;</div><div class="line"></div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">PersistentQueue</span><span class="params">(PersistentStack&lt;E&gt; order, PersistentStack&lt;E&gt; reverse)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.order = order;</div><div class="line">		<span class="keyword">this</span>.reverse = reverse;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">PersistentQueue</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.order = PersistentStack.emptyStack();</div><div class="line">		<span class="keyword">this</span>.reverse = PersistentStack.emptyStack();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> PersistentQueue&lt;E&gt; <span class="title">enqueue</span><span class="params">(E e)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">null</span> == e)</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> PersistentQueue&lt;E&gt;(<span class="keyword">this</span>.order.push(e), <span class="keyword">this</span>.reverse);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> PersistentQueue&lt;E&gt; <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.isEmpty())</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</div><div class="line">		<span class="keyword">if</span> (!<span class="keyword">this</span>.reverse.isEmpty()) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">new</span> PersistentQueue&lt;E&gt;(<span class="keyword">this</span>.order, <span class="keyword">this</span>.reverse.tail);</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="comment">// revers the ordered stack then "clean" that stack</span></div><div class="line">			<span class="keyword">return</span> <span class="keyword">new</span> PersistentQueue&lt;E&gt;(PersistentStack.emptyStack(),</div><div class="line">					<span class="keyword">this</span>.order.toReverseStack().tail);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">balanceQueue</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.reverse = <span class="keyword">this</span>.order.toReverseStack();</div><div class="line">		<span class="keyword">this</span>.order = PersistentStack.emptyStack();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.isEmpty())</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</div><div class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.reverse.isEmpty())</div><div class="line">			balanceQueue();</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.reverse.head;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> size() == <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.order.size + <span class="keyword">this</span>.reverse.size;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Creating-a-simple-immutable-stack"><a href="#Creating-a-simple-immutable-stack" class="headerlink" title="Creating a simple immutable stack"></a>Creating a simple immutable stack</h1><p><a href="http://blog.slaks.net/2013-06-11/readonly-vs-immutable/" target="_blank" rel="external">Last time</a>, I explained the basic meaning of immutability. The simplest useful example of an immutable class is an immutable stack. Immutable stacks work just like regular stacks – with Push(), Pop(), and Peek() methods – except that instead of mutating the original instance, Push() and Pop() return a new, modified, instance.</p>
<p>In code, that looks like:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> interface IStack&lt;T&gt; &#123;</div><div class="line">    IStack&lt;T&gt; Push(T element);</div><div class="line">    IStack&lt;T&gt; Pop();</div><div class="line">    <span class="function">T <span class="title">Peek</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">bool</span> IsEmpty &#123; get; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">IStack&lt;<span class="keyword">int</span>&gt; myStack = empty;</div><div class="line">myStack = myStack.Push(<span class="number">1</span>).Push(<span class="number">2</span>).Push(<span class="number">3</span>);</div><div class="line"></div><div class="line"><span class="keyword">while</span> (!myStack.IsEmpty) &#123;</div><div class="line">    Console.WriteLine(myStack.Peek());</div><div class="line">    myStack = myStack.Pop();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Each implementation of this interface would supply a singleton empty instance; since they are immutable; there is no need to have more than one empty instance. Thus, there is no need for a constructor. Since Pop() needs to return the new stack, it cannot return the removed item; therefore, Peek() is the only way to get the item.</p>
<p>As a side benefit, this pattern naturally enables and encourages fluent interfaces, since each mutation methods returns a new instance. (eg, myStack.Push(1).Push(2).Push(3))</p>
<p>The naive implementation of this interface would use a list, and copy the list when creating a new stack:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> NaiveStack&lt;T&gt; : IStack&lt;T&gt; &#123;</div><div class="line">    <span class="keyword">private</span> readonly ReadOnlyCollection&lt;T&gt; items;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">NaiveStack</span><span class="params">(IList&lt;T&gt; items)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.items = <span class="keyword">new</span> ReadOnlyCollection&lt;T&gt;(items);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly NaiveStack&lt;T&gt; Empty </div><div class="line">        = <span class="keyword">new</span> NaiveStack&lt;T&gt;(<span class="keyword">new</span> T[<span class="number">0</span>]);</div><div class="line"></div><div class="line">    <span class="keyword">public</span> IStack&lt;T&gt; Push(T element) &#123;</div><div class="line">        var <span class="built_in">list</span> = <span class="keyword">new</span> List&lt;T&gt;(items);</div><div class="line">        <span class="built_in">list</span>.Add(element);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NaiveStack&lt;T&gt;(<span class="built_in">list</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> IStack&lt;T&gt; Pop() &#123;</div><div class="line">        <span class="keyword">if</span> (IsEmpty)</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">"Stack is empty"</span>);</div><div class="line">        var <span class="built_in">list</span> = <span class="keyword">new</span> List&lt;T&gt;(items);</div><div class="line">        <span class="built_in">list</span>.RemoveAt(<span class="built_in">list</span>.Count - <span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NaiveStack&lt;T&gt;(<span class="built_in">list</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Peek</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> items.Last(); &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> IsEmpty &#123; </div><div class="line">        get &#123; <span class="keyword">return</span> items.Count == <span class="number">0</span>; &#125; </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The problem with this approach is that each mutation requires an O(n) copy to create the list behind the new instance. This makes Push() and Pop() awfully slow, and vastly increases the memory footprint until the intermediate instances can be GCd.</p>
<p>To solve these problems, we can design the stack as a persistent data structure. Instead of copying anything when pushing on to a stack, we cab make the new stack instance hold only the newly added item, and maintain a reference to the previous instance storing the rest of the items. Popping from the stack can then simply return the previous instance. Basically, the stack becomes an immutable single-linked list.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> abstract <span class="keyword">class</span> PersistentStack&lt;T&gt; : IStack&lt;T&gt; &#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> readonly PersistentStack&lt;T&gt; Empty = <span class="keyword">new</span> EmptyNode();</div><div class="line"></div><div class="line">    <span class="keyword">public</span> IStack&lt;T&gt; Push(T element) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LinkNode(<span class="keyword">this</span>, element);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">class</span> EmptyNode : PersistentStack&lt;T&gt; &#123;</div><div class="line">        <span class="keyword">public</span> override IStack&lt;T&gt; Pop() &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">"Stack is empty"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> override T <span class="title">Peek</span><span class="params">()</span> </span>&#123; </div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">"Stack is empty"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> override <span class="keyword">bool</span> IsEmpty &#123; get &#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125; &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">class</span> LinkNode : PersistentStack&lt;T&gt; &#123;</div><div class="line">        readonly IStack&lt;T&gt; previous;</div><div class="line">        readonly T element;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">LinkNode</span><span class="params">(IStack&lt;T&gt; previous, T element)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.previous = previous;</div><div class="line">            <span class="keyword">this</span>.element = element;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">public</span> override IStack&lt;T&gt; Pop() &#123;</div><div class="line">            <span class="keyword">return</span> previous;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> override T <span class="title">Peek</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> element; &#125;</div><div class="line">        <span class="keyword">public</span> override <span class="keyword">bool</span> IsEmpty &#123; get &#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125; &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> abstract IStack&lt;T&gt; Pop();</div><div class="line">    <span class="function"><span class="keyword">public</span> abstract T <span class="title">Peek</span><span class="params">()</span></span>;</div><div class="line">    <span class="keyword">public</span> abstract <span class="keyword">bool</span> IsEmpty &#123; get; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>In this implementation, the empty and non-empty nodes are different enough that I decided to use polymorphism rather than if statements. The PersistentStack<t> type contains the only common logic (Push()); everything else is implement by the two concrete classes.</t></p>
<p>Here, the empty stack truly is a singleton; only one instance will ever be created for each element type. It can only be used as a starting point to create new stacks; the other methods simply throw exceptions. It also serves as the final node in the chain for all non-empty stacks.</p>
<p>Pushing onto any stack (empty or not) returns a new node that holds the new item and points to the previous stack; popping a non-empty stack simply returns that reference.</p>
<p>Like other linked lists, this approach implements both Push() and Pop() in O(1) in both memory and time.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/41/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><span class="page-number current">42</span><a class="page-number" href="/page/43/">43</a><span class="space">&hellip;</span><a class="page-number" href="/page/66/">66</a><a class="extend next" rel="next" href="/page/43/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/plusaber.jpg"
               alt="Plusaber" />
          <p class="site-author-name" itemprop="name">Plusaber</p>
          <p class="site-description motion-element" itemprop="description">Plusaber's Blog</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">329</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">分類</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">標籤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.kaggle.com" title="Kaggle" target="_blank">Kaggle</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.algolia.com" title="Algolia" target="_blank">Algolia</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://jp.linkedin.com/in/zebangchen" title="LinkedIn" target="_blank">LinkedIn</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://portal.qiniu.com" title="Qiniu" target="_blank">Qiniu</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Plusaber</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'plusaber';
      var disqus_identifier = 'page/42/index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  


</body>
</html>
