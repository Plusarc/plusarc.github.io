<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="google88d81a02a91db82f" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Plusaber&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Plusaber's Blog">
<meta property="og:url" content="http://yoursite.com/page/59/index.html">
<meta property="og:site_name" content="Plusaber's Blog">
<meta property="og:description" content="Plusaber&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Plusaber's Blog">
<meta name="twitter:description" content="Plusaber&apos;s Blog">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/page/59/"/>


  <title> Plusaber's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-hk">

  


<!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-79158075-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Plusaber's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/05/Java_Ant编译编码问题/" itemprop="url">
                  Ant编译编码问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-02-05T00:00:00+09:00" content="2015-02-05">
              2015-02-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/05/Java_Ant编译编码问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/05/Java_Ant编译编码问题/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Ant编译编码问题"><a href="#Ant编译编码问题" class="headerlink" title="Ant编译编码问题"></a>Ant编译编码问题</h1><p>使用Ant编译项目遇到了编码问题，这里记录一下解决方案。</p>
<p>编码问题来源于代码的注释，所以应该是中文编码的问题，如果是使用eclipse，可以随便打开一个有中文注释的java文件查看properties，确认文件的编码，这次的情况是部分文件为GBK编码。</p>
<p>找到项目的Ant的build.xml，找到javac的配置部分，加入的encoding的指定，否则默认是使用UTF-8进行编译。</p>
<p>build.xml原来的编译配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">javac</span> <span class="attr">debug</span>=<span class="string">"true"</span> <span class="attr">debuglevel</span>=<span class="string">"$&#123;debuglevel&#125;"</span> <span class="attr">destdir</span>=<span class="string">"bin"</span> <span class="attr">includeantruntime</span>=<span class="string">"false"</span> <span class="attr">source</span>=<span class="string">"$&#123;source&#125;"</span> <span class="attr">target</span>=<span class="string">"$&#123;target&#125;"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">src</span> <span class="attr">path</span>=<span class="string">"src"</span>/&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">classpath</span> <span class="attr">refid</span>=<span class="string">"LogMiner.classpath"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">javac</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure>
<p>指定encoding为gbk:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">javac</span> <span class="attr">debug</span>=<span class="string">"true"</span> <span class="attr">debuglevel</span>=<span class="string">"$&#123;debuglevel&#125;"</span> <span class="attr">destdir</span>=<span class="string">"bin"</span> <span class="attr">includeantruntime</span>=<span class="string">"false"</span> <span class="attr">source</span>=<span class="string">"$&#123;source&#125;"</span> <span class="attr">encoding</span>=<span class="string">"gbk"</span> <span class="attr">target</span>=<span class="string">"$&#123;target&#125;"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">src</span> <span class="attr">path</span>=<span class="string">"src"</span>/&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">classpath</span> <span class="attr">refid</span>=<span class="string">"LogMiner.classpath"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">javac</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/05/Java_classpath指定多个路径 copy/" itemprop="url">
                  classpath指定多个路径
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-02-05T00:00:00+09:00" content="2015-02-05">
              2015-02-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/05/Java_classpath指定多个路径 copy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/05/Java_classpath指定多个路径 copy/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="classpath指定多个路径"><a href="#classpath指定多个路径" class="headerlink" title="classpath指定多个路径"></a>classpath指定多个路径</h1><p>遇到<a href="http://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath" target="_blank" rel="external">java项目运行时classpath指定的问题</a>，记录一下，运行java程序时通过<code>-cp</code>指定引用的class的路径，包括pacakage和jar包，需要注意的是：</p>
<ul>
<li>如果需要添加多个路径是，需要使用<code>-cp &quot;path1:path2&quot;</code>这样把路径包装起来，注意linux下分隔符为<code>:</code>，windows下分隔符为<code>;</code>。</li>
<li>如果需要引用多个jar包，通配符要用<code>*</code>，而不是<code>*.jar</code>。</li>
</ul>
<p>Windows下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -cp <span class="string">"./bin;./lib/*"</span> suggestion.Main</div></pre></td></tr></table></figure>
<p>Linux下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">java -cp <span class="string">"./bin:./lib/*"</span> suggestion.Main</div></pre></td></tr></table></figure>
<p>下面的命令是无效的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 多个路径时需要包装起来，下面是非法的表述</span></div><div class="line">java -cp ./bin:./lib/*.jar suggestion.Main</div><div class="line"></div><div class="line"><span class="comment"># 无法引入所需要的jar包</span></div><div class="line">java -cp <span class="string">"./bin:./lib/*.jar"</span> suggestion.Main</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/05/Developing_Git/" itemprop="url">
                  Git常用命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-02-05T00:00:00+09:00" content="2015-02-05">
              2015-02-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Developing/" itemprop="url" rel="index">
                    <span itemprop="name">Developing</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/05/Developing_Git/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/05/Developing_Git/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Git常用命令"><a href="#Git常用命令" class="headerlink" title="Git常用命令"></a>Git常用命令</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>工作区： 正在编辑文件所在文件夹</li>
<li>暂存区：使用git add后会把工作的区的内容加入到暂存区</li>
<li>本地仓库：使用git commit会把暂存的内容提交到仓库中。</li>
<li>远程仓库：跟本地仓库进行交互，用于代码保护和多人协作开发。</li>
<li>指针：在仓库中的文件可以有多个提交版本，每个版本有一个唯一的编号，历史提交以链表形式组织。HEAD指针指向的文件为仓库的当前版本提交，可以修改HEAD指针指向任何一个版本。</li>
<li>分支：开发过程中可以以一个位置为起点，分叉并行开发多个模块，分叉后的每个线路就是分支。后面会详细介绍。<br><img src="http://7xs07u.com1.z0.glb.clouddn.com/Git_concepts.png" alt="git_concepts"></li>
</ul>
<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><ul>
<li><p>初始化git项目<br>将一个项目文件夹初始化：<br><code>git init</code></p>
</li>
<li><p>将工作区的文件添加到暂存区<br><code>git add readme.txt</code></p>
</li>
<li><p>将暂存区的文件提交到版本库中<br><code>git commit -m &quot;commit first version&quot;</code></p>
</li>
<li><p>查看当前文件修改情况，是否提交等信息。<br><code>git status</code></p>
</li>
<li><p>查看工作区文件与暂存区或版本库的最新文件的修改。<br><code>git diff readme.txt</code></p>
</li>
<li><p>查看提交的历史<br>每次提交都有一个版本号。可以使用git log –pretty=oneline简化输出。<br><code>git log</code></p>
</li>
<li><p>查看命令历史<br><code>git relog</code></p>
</li>
</ul>
<h2 id="文件恢复回退"><a href="#文件恢复回退" class="headerlink" title="文件恢复回退"></a>文件恢复回退</h2><ul>
<li><p>对工作区文件的操作，把暂存区或版本库的文件的对应最新版本替换掉工作区的文件<br><code>git checkout -- readme.txt</code></p>
</li>
<li><p>对版本库HEAD指针的操作<br><code>git reset --hard HEAD^</code><br>同时会清空暂存区的内容，但不会直接替换工作区的内容，该操作需要checkout完成。可以直接reset到指定的版本号，如<code>git reset --hard 368164</code></p>
</li>
<li><p>从版本库中删除该文件，需要commit<br><code>git rm test.txt</code></p>
</li>
</ul>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><p>HEAD为版本库当前指针的指向，默认为指向master分支。</p>
<ul>
<li>新建分支</li>
</ul>
<p><code>git checkout -b dev</code><br>在当前的分支上(HEAD所在的分支)建立一个新分支，名字为<code>dev</code>，相当于下面两条命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git branch dev</div><div class="line">git checkout dev</div></pre></td></tr></table></figure>
<ul>
<li><p>查看当前分支情况<br><code>git branch</code></p>
</li>
<li><p>合并分支</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout master</div><div class="line">git merge dev</div></pre></td></tr></table></figure>
<p>也可以在特定分支上建立分支，比如在上面建立的<code>dev</code>分支再建立分支：<br><code>git checkout -b newBranch dev</code></p>
<p>将dev合并到master，也就是将master移动到dev。<br>注意如果两个分支都有不同的提交，merge则会发生冲突，需要maually解决冲突。<br>默认merge会采用fast-forward方式，也就是直接将master指向dev位置，之后如果删除dev分支则会丢失这个历史信息，也就是看起来像没有做过分支一样，可以通过<code>--no-ff</code>强制做一次commit。</p>
<ul>
<li><p>查看合并分支图<br><code>git log --graph</code></p>
</li>
<li><p>删除分支<br><code>git branch -d dev</code></p>
</li>
<li><p>保存当前工作区<br><code>git stash</code></p>
</li>
</ul>
<p>more..参考<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/001375233990231ac8cf32ef1b24887a5209f83e01cb94b000" target="_blank" rel="external">教程</a>.</p>
<h2 id="远程仓库-版本库"><a href="#远程仓库-版本库" class="headerlink" title="远程仓库(版本库)"></a>远程仓库(版本库)</h2><p>GitHub为一个免费的远程仓库，提供代码托管服务，不过你的仓库是任何人都可以访问的，另一个提供安全托管的是bitbucket，如果个人或小团队需要开发产品，可以使用bitbucket，当然也可以自己建立git服务器。部分参考<a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="external">git远程操作详解</a>.</p>
<h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><p><code>git clone git@..(远程仓库地址) &lt;在本地的名字&gt;</code><br>克隆远程仓库到本地。</p>
<p>下面实现的功能是一样的：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> REMOTEURL foo</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mkdir foo</div><div class="line"><span class="built_in">cd</span> foo</div><div class="line">git init</div><div class="line">git remote add origin REMOTEURL</div><div class="line">git pull origin master</div></pre></td></tr></table></figure>
<h3 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h3><ul>
<li>git remote &lt;-v&gt;<br>列出所有以添加的远程仓库，参数<code>-v</code>可以查看远程仓库的地址。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(env)MacBook-Air-2:xxx chenzb$ git remote -v</div><div class="line">origin	https://plusarc@bitbucket.org/xxx/xxx.git (fetch)</div><div class="line">origin	https://plusarc@bitbucket.org/xxx/xxx.git (push)</div></pre></td></tr></table></figure>
<ul>
<li><p><code>git remote add &lt;远程仓库在本地的名字&gt;  &lt;远程仓库地址&gt;</code><br>添加远程仓库，关联到当前目录的git仓库(一个本地仓库)。<br><code>git remote add origin git@..(远程仓库地址)</code></p>
</li>
<li><p><code>git remote rm &lt;远程仓库在本地的名字&gt;</code><br>删除远程仓库关联。</p>
</li>
<li><p><code>git remote rename &lt;原远程仓库在本地的名字&gt;  &lt;新名字&gt;</code><br>重命名远程仓库。</p>
</li>
</ul>
<h3 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h3><p>这里要注意远程分支，远程分支跟本地分支是独立的没有直接的关联关系，名字不同与本地分支为<code>远程仓库在本地的名字/分支名</code>。远程分支和本地分支可以有相同的名字，如<code>origin/dev</code>和<code>dev</code>，但它们没有直接的关系，除非把它们关联起来。</p>
<p>前面使用<code>git branch</code>查看分支情况，直接只用只是获得本地的分支。<br><code>git branch &lt;-r&gt; # 查看远程分支</code><br><code>git branch &lt;-a&gt; # 查看所有分支</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">git branch</div><div class="line">* master</div><div class="line"></div><div class="line">chenzb$ git branch <span class="_">-a</span></div><div class="line">* master</div><div class="line">  remotes/origin/xxx -&gt; origin/master</div><div class="line">  remotes/origin/xxx</div><div class="line">  remotes/origin/xxx</div><div class="line">  remotes/origin/xxx</div></pre></td></tr></table></figure>
<p>我们可以通过git fetch将远程分支取回本地，一般用来查看其他人的进程，取回代码对本地都存在于<code>origin/***</code>分支中，对本地开发的代码没有影响。<br><code>git fetch &lt;远程仓库名(在本地的)&gt;</code>，这个命令会将取回远程仓库所有分支的更新。<br><code>git fetch &lt;远程仓库名(在本地的)&gt; &lt;分支名&gt;</code>，可以取回特定分支的更新：</p>
<p><code>git fetch origin master</code>，取回origin仓库的master分支，在本地为<code>origin/master</code>分支，不影响本地的<code>master</code>分支。所取回的远程分支在本地仓库都是用<code>远程仓库名/分支名</code>的形式读取。</p>
<p>在取回远程仓库的更新以后，可以在它的基础上，使用<code>git checkout</code>命令建立一个新的分支。<br><code>git checkout -b newBranch origin/master</code></p>
<p>另外还可以使用<code>git merge</code>或<code>git rebase</code>在本地分支上合并远程分支（合并到当前分支，也就是HEAD所在的分支）。</p>
<p><code>git merge origin/master</code>，表示在当前分支上合并<code>origin/master</code>远程分支。</p>
<h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><p>git pull命令的作用是，取回远程仓库的某个分支的更新，再与本地的指定分支合并。<br><code>git pull &lt;远程仓库名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</code><br>比如取回<code>origin</code>仓库的next分支，与本地的master分支合并：<br><code>git pull origin next:master</code><br>如果是与当前分支合并，则可以省略本地分支名。<br><code>git pull orign next</code></p>
<p>git pull其实相当于git fetch取回分支更新，然后进行merge。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git fetch origin</div><div class="line">git merge origin/next</div></pre></td></tr></table></figure>
<p>本地分支和远程分支可以建立关联，也就是追踪关系(tracking)。<br>在<code>git clone</code>的时候，所有本地分支默认与远程仓库的同名分支建立追踪关系，也就是本地的master分支会自动追踪origin/master分支。</p>
<p>我们可以手动建立追踪关系：<br><code>git branch --set-upstream master origin/next</code></p>
<p>如果当前分支与远程分支存在追踪关系，<code>git pull</code>可以省略远程分支名：<br><code>git pull origin</code><br>上面命令表示当前本地分支自动与对应的<code>origin</code>仓库的追踪分支（remote-tracking branch）进行合并。</p>
<p>如果当前分支只有一个追踪分支，连远程仓库名都可以省略。<br><code>git pull</code></p>
<p>如果合并需要采用rebase模式，可以shiyong<code>--rebase</code>选项。</p>
<p>默认情况下，远程仓库删除了某个分支后，本地<code>git pull</code>不会删除对应的本地分支。可以通过<code>-p</code>参数删除本地对于远程分支。<br><code>git pull -p</code></p>
<h3 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h3><p>git push用于将本地分支的更新推送到远程仓库，格式与git pull类似。<br><code>git pull &lt;远程仓库名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</code><br>格式都为<code>&lt;来源&gt;:&lt;目的地&gt;</code></p>
<p>如果省略远程分支(不是本地的哪个远程分支，而是真正在远程仓库的分支)名，同样会推送到存在追踪关系的远程分支，如果该远程分支不存在，则会被新建。<br><code>git push origin master</code><br>表示将本地的master分支推送到origin仓库的master分支。</p>
<p>如果省略本地分支名，则表示删除指定的远程分支。<br><code>git push origin :master</code><br>等同于<code>git push origin --delete master</code></p>
<p>如果当前分支与远程分支存在追踪关系，则本地分支和远程分支都可以省略。<br><code>git push origin</code><br>如果当前分支只有一个追踪分支，那么仓库名都可以省略：<br><code>git push</code></p>
<p>如果当前分支与多个仓库存在追踪关系，则可以使用<code>-u</code>选项指定一个默认仓库，这样后面就可以添加不任何参数进行<code>git push</code>，这样默认只推送当前分支。<br><code>git push -u origin master</code><br>上面命令将本地master分支推送到origin主机上的追踪分支，同时指定origin为默认主机。</p>
<h2 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h2><p>参考<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/0013760174128707b935b0be6fc4fc6ace66c4f15618f8d000" target="_blank" rel="external">多人协作</a>.</p>
<h2 id="命令清单"><a href="#命令清单" class="headerlink" title="命令清单"></a>命令清单</h2><p>参考<a href="http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html" target="_blank" rel="external">常用 Git 命令清单</a></p>
<h3 id="新建代码库"><a href="#新建代码库" class="headerlink" title="新建代码库"></a>新建代码库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 在当前目录新建一个Git代码库</div><div class="line">$ git init</div><div class="line"></div><div class="line"># 新建一个目录，将其初始化为Git代码库</div><div class="line">$ git init [project-name]</div><div class="line"></div><div class="line"># 下载一个项目和它的整个代码历史</div><div class="line">$ git clone [url]</div></pre></td></tr></table></figure>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># 显示当前的Git配置</div><div class="line">$ git config --list</div><div class="line"></div><div class="line"># 编辑Git配置文件</div><div class="line">$ git config -e [--global]</div><div class="line"></div><div class="line"># 设置提交代码时的用户信息</div><div class="line">$ git config [--global] user.name &quot;[name]&quot;</div><div class="line">$ git config [--global] user.email &quot;[email address]&quot;</div></pre></td></tr></table></figure>
<h3 id="增加-删除文件"><a href="#增加-删除文件" class="headerlink" title="增加/删除文件"></a>增加/删除文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"># 添加指定文件到暂存区</div><div class="line">$ git add [file1] [file2] ...</div><div class="line"></div><div class="line"># 添加指定目录到暂存区，包括子目录</div><div class="line">$ git add [dir]</div><div class="line"></div><div class="line"># 添加当前目录的所有文件到暂存区</div><div class="line">$ git add .</div><div class="line"></div><div class="line"># 删除工作区文件，并且将这次删除放入暂存区</div><div class="line">$ git rm [file1] [file2] ...</div><div class="line"></div><div class="line"># 停止追踪指定文件，但该文件会保留在工作区</div><div class="line">$ git rm --cached [file]</div><div class="line"></div><div class="line"># 改名文件，并且将这个改名放入暂存区</div><div class="line">$ git mv [file-original] [file-renamed]</div></pre></td></tr></table></figure>
<h3 id="代码提交"><a href="#代码提交" class="headerlink" title="代码提交"></a>代码提交</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># 提交暂存区到仓库区</div><div class="line">$ git commit -m [message]</div><div class="line"></div><div class="line"># 提交暂存区的指定文件到仓库区</div><div class="line">$ git commit [file1] [file2] ... -m [message]</div><div class="line"></div><div class="line"># 提交工作区自上次commit之后的变化，直接到仓库区</div><div class="line">$ git commit -a</div><div class="line"></div><div class="line"># 提交时显示所有diff信息</div><div class="line">$ git commit -v</div><div class="line"></div><div class="line"># 使用一次新的commit，替代上一次提交</div><div class="line"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</div><div class="line">$ git commit --amend -m [message]</div><div class="line"></div><div class="line"># 重做上一次commit，并包括指定文件的新变化</div><div class="line">$ git commit --amend [file1] [file2] ...</div></pre></td></tr></table></figure>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"># 列出所有本地分支</div><div class="line">$ git branch</div><div class="line"></div><div class="line"># 列出所有远程分支</div><div class="line">$ git branch -r</div><div class="line"></div><div class="line"># 列出所有本地分支和远程分支</div><div class="line">$ git branch -a</div><div class="line"></div><div class="line"># 新建一个分支，但依然停留在当前分支</div><div class="line">$ git branch [branch-name]</div><div class="line"></div><div class="line"># 新建一个分支，并切换到该分支</div><div class="line">$ git checkout -b [branch]</div><div class="line"></div><div class="line"># 新建一个分支，指向指定commit</div><div class="line">$ git branch [branch] [commit]</div><div class="line"></div><div class="line"># 新建一个分支，与指定的远程分支建立追踪关系</div><div class="line">$ git branch --track [branch] [remote-branch]</div><div class="line"></div><div class="line"># 切换到指定分支，并更新工作区</div><div class="line">$ git checkout [branch-name]</div><div class="line"></div><div class="line"># 建立追踪关系，在现有分支与指定的远程分支之间</div><div class="line">$ git branch --set-upstream [branch] [remote-branch]</div><div class="line"></div><div class="line"># 合并指定分支到当前分支</div><div class="line">$ git merge [branch]</div><div class="line"></div><div class="line"># 选择一个commit，合并进当前分支</div><div class="line">$ git cherry-pick [commit]</div><div class="line"></div><div class="line"># 删除分支</div><div class="line">$ git branch -d [branch-name]</div><div class="line"></div><div class="line"># 删除远程分支</div><div class="line">$ git push origin --delete [branch-name]</div><div class="line">$ git branch -dr [remote/branch]</div></pre></td></tr></table></figure>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># 列出所有tag</div><div class="line">$ git tag</div><div class="line"></div><div class="line"># 新建一个tag在当前commit</div><div class="line">$ git tag [tag]</div><div class="line"></div><div class="line"># 新建一个tag在指定commit</div><div class="line">$ git tag [tag] [commit]</div><div class="line"></div><div class="line"># 删除本地tag</div><div class="line">$ git tag -d [tag]</div><div class="line"></div><div class="line"># 删除远程tag</div><div class="line">$ git push origin :refs/tags/[tagName]</div><div class="line"></div><div class="line"># 查看tag信息</div><div class="line">$ git show [tag]</div><div class="line"></div><div class="line"># 提交指定tag</div><div class="line">$ git push [remote] [tag]</div><div class="line"></div><div class="line"># 提交所有tag</div><div class="line">$ git push [remote] --tags</div><div class="line"></div><div class="line"># 新建一个分支，指向某个tag</div><div class="line">$ git checkout -b [branch] [tag]</div></pre></td></tr></table></figure>
<h3 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"># 显示有变更的文件</div><div class="line">$ git status</div><div class="line"></div><div class="line"># 显示当前分支的版本历史</div><div class="line">$ git log</div><div class="line"></div><div class="line"># 显示commit历史，以及每次commit发生变更的文件</div><div class="line">$ git log --stat</div><div class="line"></div><div class="line"># 显示某个commit之后的所有变动，每个commit占据一行</div><div class="line">$ git log [tag] HEAD --pretty=format:%s</div><div class="line"></div><div class="line"># 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件</div><div class="line">$ git log [tag] HEAD --grep feature</div><div class="line"></div><div class="line"># 显示某个文件的版本历史，包括文件改名</div><div class="line">$ git log --follow [file]</div><div class="line">$ git whatchanged [file]</div><div class="line"></div><div class="line"># 显示指定文件相关的每一次diff</div><div class="line">$ git log -p [file]</div><div class="line"></div><div class="line"># 显示指定文件是什么人在什么时间修改过</div><div class="line">$ git blame [file]</div><div class="line"></div><div class="line"># 显示暂存区和工作区的差异</div><div class="line">$ git diff</div><div class="line"></div><div class="line"># 显示暂存区和上一个commit的差异</div><div class="line">$ git diff --cached [file]</div><div class="line"></div><div class="line"># 显示工作区与当前分支最新commit之间的差异</div><div class="line">$ git diff HEAD</div><div class="line"></div><div class="line"># 显示两次提交之间的差异</div><div class="line">$ git diff [first-branch]...[second-branch]</div><div class="line"></div><div class="line"># 显示某次提交的元数据和内容变化</div><div class="line">$ git show [commit]</div><div class="line"></div><div class="line"># 显示某次提交发生变化的文件</div><div class="line">$ git show --name-only [commit]</div><div class="line"></div><div class="line"># 显示某次提交时，某个文件的内容</div><div class="line">$ git show [commit]:[filename]</div><div class="line"></div><div class="line"># 显示当前分支的最近几次提交</div><div class="line">$ git reflog</div></pre></td></tr></table></figure>
<h3 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"># 下载远程仓库的所有变动</div><div class="line">$ git fetch [remote]</div><div class="line"></div><div class="line"># 显示所有远程仓库</div><div class="line">$ git remote -v</div><div class="line"></div><div class="line"># 显示某个远程仓库的信息</div><div class="line">$ git remote show [remote]</div><div class="line"></div><div class="line"># 增加一个新的远程仓库，并命名</div><div class="line">$ git remote add [shortname] [url]</div><div class="line"></div><div class="line"># 取回远程仓库的变化，并与本地分支合并</div><div class="line">$ git pull [remote] [branch]</div><div class="line"></div><div class="line"># 上传本地指定分支到远程仓库</div><div class="line">$ git push [remote] [branch]</div><div class="line"></div><div class="line"># 强行推送当前分支到远程仓库，即使有冲突</div><div class="line">$ git push [remote] --force</div><div class="line"></div><div class="line"># 推送所有分支到远程仓库</div><div class="line">$ git push [remote] --all</div></pre></td></tr></table></figure>
<h3 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"># 恢复暂存区的指定文件到工作区</div><div class="line">$ git checkout [file]</div><div class="line"></div><div class="line"># 恢复某个commit的指定文件到工作区</div><div class="line">$ git checkout [commit] [file]</div><div class="line"></div><div class="line"># 恢复上一个commit的所有文件到工作区</div><div class="line">$ git checkout .</div><div class="line"></div><div class="line"># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变</div><div class="line">$ git reset [file]</div><div class="line"></div><div class="line"># 重置暂存区与工作区，与上一次commit保持一致</div><div class="line">$ git reset --hard</div><div class="line"></div><div class="line"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</div><div class="line">$ git reset [commit]</div><div class="line"></div><div class="line"># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致</div><div class="line">$ git reset --hard [commit]</div><div class="line"></div><div class="line"># 重置当前HEAD为指定commit，但保持暂存区和工作区不变</div><div class="line">$ git reset --keep [commit]</div><div class="line"></div><div class="line"># 新建一个commit，用来撤销指定commit</div><div class="line"># 后者的所有变化都将被前者抵消，并且应用到当前分支</div><div class="line">$ git revert [commit]</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/02/02/Java_时间格式化/" itemprop="url">
                  Java中的时间格式化
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-02-02T00:00:00+09:00" content="2015-02-02">
              2015-02-02
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/02/02/Java_时间格式化/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/02/02/Java_时间格式化/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java中的时间格式化"><a href="#Java中的时间格式化" class="headerlink" title="Java中的时间格式化"></a>Java中的时间格式化</h1><p>通过java.util.Date我们可以简单的获取当前时间：<br><code>Data date = new Date()</code><br>通过Data对象我们可以获取很多关于目前时间的信息和操作方法，其中<code>getTime()</code>方法可以获得当前时间的毫秒数，与<code>System.currentTimeMills()</code>方法相同。</p>
<p>Date类提供的一些方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">after</span><span class="params">(Date date)</span></span></div><div class="line"><span class="keyword">boolean</span> <span class="title">before</span><span class="params">(Date date)</span></div><div class="line"><span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Date date)</span> <span class="comment">// equal-0, before-minus</span></div><div class="line"><span class="keyword">long</span> <span class="title">getTime</span><span class="params">()</span></div></pre></td></tr></table></figure>
<p>很多时候我们需要将时间以某种特定格式输出或使用，这是我们可以使用<code>java.text.SimpleDateFormat</code>类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd-HH:mm:ss.SSS"</span>);</div><div class="line">String currentTime = sdf.format(<span class="keyword">new</span> Date());</div></pre></td></tr></table></figure>
<p>其中yyyy等对应着时间里的元素，具体如下：</p>
<table>
<thead>
<tr>
<th>letter</th>
<th>meaning</th>
<th>text</th>
</tr>
</thead>
<tbody>
<tr>
<td>G</td>
<td>Era designator</td>
<td>Text</td>
</tr>
<tr>
<td>y</td>
<td>Year</td>
<td>Year</td>
</tr>
<tr>
<td>M</td>
<td>Month in year</td>
<td>Month</td>
</tr>
<tr>
<td>w</td>
<td>Week in year</td>
<td>Number</td>
</tr>
<tr>
<td>W</td>
<td>Week in month</td>
<td>Number</td>
</tr>
<tr>
<td>D</td>
<td>Day in year</td>
<td>Number</td>
</tr>
<tr>
<td>d</td>
<td>Day in month</td>
<td>Number</td>
</tr>
<tr>
<td>F</td>
<td>Day of week in month</td>
<td>Number</td>
</tr>
<tr>
<td>E</td>
<td>Day in week</td>
<td>Text</td>
</tr>
<tr>
<td>a</td>
<td>Am/pm marker</td>
<td>Text</td>
</tr>
<tr>
<td>H</td>
<td>Hour in day (0-23)</td>
<td>Number</td>
</tr>
<tr>
<td>k</td>
<td>Hour in day (1-24)</td>
<td>Number</td>
</tr>
<tr>
<td>K</td>
<td>Hour in am/pm (0-11)</td>
<td>Number</td>
</tr>
<tr>
<td>h</td>
<td>Hour in am/pm (1-12)</td>
<td>Number</td>
</tr>
<tr>
<td>m</td>
<td>Minute in hour</td>
<td>Number</td>
</tr>
<tr>
<td>s</td>
<td>Second in minute</td>
<td>Number</td>
</tr>
<tr>
<td>S</td>
<td>Millisecond</td>
<td>Number</td>
</tr>
<tr>
<td>z</td>
<td>Time zone</td>
<td>General time zone</td>
</tr>
<tr>
<td>Z</td>
<td>Time zone</td>
<td>RFC 822 time zone</td>
</tr>
</tbody>
</table>
<p>SimpleDateFormat除了可以将Date时间格式化，还提供parse()方法将字符串解析为Date。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat (<span class="string">"yyyy-MM-dd:hh:mm"</span>);</div><div class="line">String time = <span class="string">"2015-02-02:08:23"</span>;</div><div class="line">Date date = sdf.parse(time);</div></pre></td></tr></table></figure>
<p>另外如果需要设置时间等操作，可以使用Calendar类，这里不再进行扩展。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/01/17/Refactoring_Some principles/" itemprop="url">
                  Some principles
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2015-01-17T00:00:00+09:00" content="2015-01-17">
              2015-01-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Refactoring/" itemprop="url" rel="index">
                    <span itemprop="name">Refactoring</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/01/17/Refactoring_Some principles/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/01/17/Refactoring_Some principles/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考《重构–改善既有代码的设计》(《Refactoring–Improving the Design of Existing Code》).</p>
<h1 id="重构-Refactoring"><a href="#重构-Refactoring" class="headerlink" title="重构(Refactoring)"></a>重构(Refactoring)</h1><p>所谓重构是这样一个过程：在不改变代码外在行为的前提下，对代码做出修改，以改进程序的内部结构。本质上说，重构就是在代码写好之后改进它的设计。</p>
<p>『在代码写好后改进它的设计』，似乎不是合理的方式，按照目前对软件开发的理解，我们要相信先设计再编码。但是在开始是很难完全预测后面可能会出现的变更，在设计前期使用模式常常导致过度工程(over-engineering)，随着时间流逝，人们不断修改代码，则会导致系统原来的设计不可避免的混乱。</p>
<p>重构则与此相反。即使目前是一堆混乱的代码，我们也可以借由重构将其加工成设计良好的代码。<strong>重构的目的是使软件更容易被理解和修改。</strong></p>
<p>重构定义：</p>
<ul>
<li>名词：对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。</li>
<li>动词：使用一系列重构手法，在不改变软件可观察行为的前提下，调整其结构。</li>
</ul>
<p>使用重构技术开发软件时，你应该把时间分配给两种截然不同的行为：添加新功能，以及重构。添加新功能时，你不应该修改既有代码，只管添加新功能，通过测试。重构时就不能同时添加新功能。</p>
<h1 id="Why-refactoring"><a href="#Why-refactoring" class="headerlink" title="Why refactoring"></a>Why refactoring</h1><ul>
<li><p>重构改进软件设计<br>如果没有重构，程序的设计会逐渐腐败变质。</p>
</li>
<li><p>重构是代码更容易理解<br>所谓程序设计，很大程度上就是与计算机交谈。很多时候我们需要补上或修改想要它做什么。而这种编程模式的核心就是『准确说出我想要的』，让代码更易读。</p>
</li>
<li><p>重构帮助找到bug</p>
</li>
<li>重构提高编程速度</li>
</ul>
<p>系统当下的行为，只是故事的一部分。如果只是为今天工作，明天可能无法继续下去。重构是一条摆脱困境的道路。</p>
<p>下面的程序将会使改动困难重重，导致代码僵化并死亡：</p>
<ul>
<li>难以阅读的程序，难以修改</li>
<li>逻辑重复的程序，难以修改</li>
<li>添加新行为时需要修改已有代码的程序，难以修改</li>
<li>带复杂条件逻辑的程序，难以修改</li>
</ul>
<p>我们希望程序：（1）容易阅读  （2）所有逻辑都只在唯一的位置指定，没有重复  （3）新的改动不会危及现有行为   （4）尽可能简单表达条件逻辑、</p>
<p>重构可以帮助我们在不改变程序行为的前期下使其具有上述美好性质，使我们更能够继续保持高速开发。</p>
<h1 id="When-refactoring"><a href="#When-refactoring" class="headerlink" title="When refactoring"></a>When refactoring</h1><p>第一次做某件事尽管去做；第二次做类似的事如果产生反感，但还是可以去做；第三次再做类似的事，你就应该重构，</p>
<ul>
<li><p>添加功能时重构<br>如果不能轻松天骄所需要的新功能</p>
</li>
<li><p>修补错误时重构<br>如果难以找出程序的bug。</p>
</li>
<li><p>复审代码时重构</p>
</li>
</ul>
<h1 id="Refactoring-and-Design"><a href="#Refactoring-and-Design" class="headerlink" title="Refactoring and Design"></a>Refactoring and Design</h1><p>重构肩负一项特殊使命：它和设计彼此互补。如果没有重构，你就必须保证预先做出的设计正确无误，但这个难度太大了，过度的预先设计往往反而会导致程序的难以编写。如果选择重构，问题的重点就转变了。你仍然可以预先设计，但是不必找到正确的解决方案（事实上也是不可能的），而是一个足够合理的解决方案就够了。</p>
<p>预先设计往往要预测后面可能的变化，力求得到灵活的解决方案。但是很难预测所有的变化，变化其实可能出现系统各处，如果在所有可能出现变化的地方都建立起灵活性，则往往需要建立许多中间层，反而使系统复杂且难以理解和维护。如果最后发现所有这些灵活性其实毫无必要，才是最大的失败。</p>
<p>重构可以带来更简单的设计，同时不损失灵活性，这也降低了设计过程的难度，减轻设计压力。</p>
<h1 id="Some-pricinples"><a href="#Some-pricinples" class="headerlink" title="Some pricinples:"></a>Some pricinples:</h1><ul>
<li>如果你发现自己需要为程序添加一个特性，而代码结构使你无法很方便地达成目的，那就先重构哪个程序，是特性的添加比较容易进行，然后在添加特性。</li>
<li>重构的第一步：建立一组可靠的测试机制，这些测试必须有自我校验能力。</li>
<li>好的代码应该清楚表达出自己的功能，变量名称是代码清晰的关键。</li>
<li>尽量不要使用临时变量，它们会导致大量参数传来传去，难以追踪，导致冗长的函数。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/58/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/58/">58</a><span class="page-number current">59</span><a class="page-number" href="/page/60/">60</a><span class="space">&hellip;</span><a class="page-number" href="/page/66/">66</a><a class="extend next" rel="next" href="/page/60/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/plusaber.jpg"
               alt="Plusaber" />
          <p class="site-author-name" itemprop="name">Plusaber</p>
          <p class="site-description motion-element" itemprop="description">Plusaber's Blog</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">330</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">分類</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">標籤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.kaggle.com" title="Kaggle" target="_blank">Kaggle</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.algolia.com" title="Algolia" target="_blank">Algolia</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://jp.linkedin.com/in/zebangchen" title="LinkedIn" target="_blank">LinkedIn</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://portal.qiniu.com" title="Qiniu" target="_blank">Qiniu</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Plusaber</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'plusaber';
      var disqus_identifier = 'page/59/index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  


</body>
</html>
