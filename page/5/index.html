<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">










  <meta name="google-site-verification" content="google88d81a02a91db82f">















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=7.1.1">


  <link rel="mask-icon" href="/favicon.ico?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'LP2H1MWXO2',
      apiKey: '69bf93a909694ef7f679098292b442ca',
      indexName: 'Plusaber',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Plusaber&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Plusaber&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="Plusaber&#39;s Blog">
<meta property="og:description" content="Plusaber&apos;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Plusaber&#39;s Blog">
<meta name="twitter:description" content="Plusaber&apos;s Blog">





  
  
  <link rel="canonical" href="http://yoursite.com/page/5/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Plusaber's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Plusaber's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/08/Research_StanfordNLP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Plusaber">
      <meta itemprop="description" content="Plusaber's Blog">
      <meta itemprop="image" content="/images/plusaber.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Plusaber's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/10/08/Research_StanfordNLP/" class="post-title-link" itemprop="url">Stanford CoreNLP</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-10-08 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-08T00:00:00+09:00">2015-10-08</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/research/" itemprop="url" rel="index"><span itemprop="name">research</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/10/08/Research_StanfordNLP/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/10/08/Research_StanfordNLP/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Stanford-CoreNLP"><a href="#Stanford-CoreNLP" class="headerlink" title="Stanford CoreNLP"></a>Stanford CoreNLP</h1><p><a href="http://nlp.stanford.edu/software/corenlp.shtml" target="_blank" rel="noopener">Stanford CoreNLP</a><br><a href="http://nlp.stanford.edu/software/" target="_blank" rel="noopener">The Stanford Natural Language Processing Group</a><br><a href="http://nlp.stanford.edu/software/tagger.shtml" target="_blank" rel="noopener">Stanford Log-linear Part-Of-Speech Tagger</a><br><a href="http://nlp.stanford.edu/software/CRF-NER.shtml" target="_blank" rel="noopener">Stanford Named Entity Recognizer (NER)</a><br><a href="http://nlp.stanford.edu/software/lex-parser.shtml" target="_blank" rel="noopener">The Stanford Parser: A statistical parser</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/08/Research_DBpedia Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Plusaber">
      <meta itemprop="description" content="Plusaber's Blog">
      <meta itemprop="image" content="/images/plusaber.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Plusaber's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/10/08/Research_DBpedia Introduction/" class="post-title-link" itemprop="url">DBpedia</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-10-08 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-08T00:00:00+09:00">2015-10-08</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/research/" itemprop="url" rel="index"><span itemprop="name">research</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/10/08/Research_DBpedia Introduction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/10/08/Research_DBpedia Introduction/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="DBpedia"><a href="#DBpedia" class="headerlink" title="DBpedia"></a>DBpedia</h1><h2 id="DBpedia-1"><a href="#DBpedia-1" class="headerlink" title="DBpedia"></a>DBpedia</h2><p>DBpedia是一項從維基百科裡萃取結構化內容的專案計畫。這些計畫所得的結構化資訊，也將放在網際網路中公開讓人取閱。[1]DBpedia允許使用者查詢跟維基百科相關資源之間的關係與性質，甚至也可查詢從維基百科外連到其他資料組的內容。</p>
<p>維基百科的條目大部分都是沒有固定格式的文字，不過也有部分的資料是屬於結構化的資訊並且被鑲嵌在條目中，像是資訊框的表格內容（也就是預設在桌機版維基百科瀏覽格式，出現在條目右上角出現的欄位，或是行動版維基百科的條目一開始就顯示的欄位。）、分類、圖像、地理座標、以及外部網頁連結。這些結構化的資訊會在此計畫案被提取出來並且將其統一的放在一個資料集裡頭以方便查詢。</p>
<p>2013年9月，DBpedia發佈了第3.9版的更新。[5]如同之前版本的加強，這次也新增了維基百科更多資訊框的比對，同時也新增了維基數據的連結。（透過 owl:sameAs 的連結）。[5]此版的資料組描述了四百萬筆實體（entities），其中有322萬筆實體是在一個連貫的知識本體中進行分類，這些實體包含了832,000位人物、639,000個地景、116,000份音樂專輯、78,000部影片、18,500個電動遊戲、209,000個組織、226,000個物種以及5,600種疾病。[6]。DBpedia資料集提供了最多有119個不同語言的特色標籤以及資料摘要；現總共有2460萬個圖片連結以及2760萬筆連到外部網頁的連結資料、4500萬筆連結到其他RDF格式的資料集、6700萬筆連結到維基百科的分類頁，以及4120萬筆YAGO2分類的資料[6]。DBpedia計畫使用資源描述框架（Resource Description Framework，簡稱RDF）來呈現擷取的資料，目前包含了24.6億筆的RDF triple資料、4700萬從英文版本維基百科上擷取的資料、19.8億則來自其他的語言版本，同時有大約4,500萬的資料連往外部的資料集。[6]</p>
<p>從本資料集，多個頁面之間傳播的資訊可以被擷取，例如某書籍的作者資料，能夠被放在關於此書或關於作者的頁面中。</p>
<p>從維基百科擷取資料其中的一個重大挑戰是，相同概念可能會在資訊框以及其他的模版中被用不同的參數表示，例如|birthplace=以及|placeofbirth=意義相同。在這樣的情況下，查詢人物出生地點就必須要在這兩個參數下都有查詢才能夠得到完整的結果。於是，DBpedia的映對語言就被開發了出來，以幫助映對知識本體裡頭這些定義的異同，進而減少同義詞的重疊。有鑑於維基百科中使用資訊框以及其他數值非常的多元，開發以及改善映對語言的機制是以開源的方式徵求大眾參與[7]。</p>
<p>DBpedia摘取維基百科頁面上的事實資訊，讓使用者可以不用在多個維基百科條目之間瀏覽便找到問題的答案。查詢資料的方式是利用叫做SPARQL（像是SQL一類的查詢語言）來對資源描述框架(RDF)進行查詢。舉例而言，假如你對日本少女漫畫系列東京喵喵感興趣，想要找這位漫畫的繪者所創作的其他作品。DBpedia結合了維基百科上東京喵喵、征海未亞這些條目，以及相關作品諸如麗佳公主以及恋きゅー的資訊。因為DBpedia把這些資料都標準化到單一的資料庫裡頭，下列查詢就能夠在不需具體清楚哪一個條目有包含了哪一部分的片段資訊，就能夠完整的列出相關作品類型：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PREFIX dbprop: &lt;http://dbpedia.org/property/&gt;</span><br><span class="line">PREFIX db: &lt;http://dbpedia.org/resource/&gt;</span><br><span class="line"><span class="keyword">SELECT</span> ?who, ?<span class="keyword">WORK</span>, ?genre <span class="keyword">WHERE</span> &#123; </span><br><span class="line"> db:Tokyo_Mew_Mew dbprop:author ?who .</span><br><span class="line"> ?<span class="keyword">WORK</span>  dbprop:author ?who .</span><br><span class="line"> OPTIONAL &#123; ?<span class="keyword">WORK</span> dbprop:genre ?genre &#125; .</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考:<br><a href="http://wiki.dbpedia.org" target="_blank" rel="noopener">DBpedia Home page</a><br><a href="https://zh.wikipedia.org/wiki/DBpedia" target="_blank" rel="noopener">DBpedia Wiki</a><br><a href="http://zh.transwiki.org/cn/rdfprimer.htm" target="_blank" rel="noopener">W3C RDF Primer中文版</a><br><a href="https://en.wikipedia.org/wiki/RDF_Schema" target="_blank" rel="noopener">RDF Schema</a><br><a href="https://en.wikipedia.org/wiki/YAGO_(database" target="_blank" rel="noopener">YAGO wiki</a>)<br><a href="https://zh.wikipedia.org/wiki/SPARQL" target="_blank" rel="noopener">SPARQL wiki</a></p>
<h2 id="DBpedia-Spotlight"><a href="#DBpedia-Spotlight" class="headerlink" title="DBpedia Spotlight"></a>DBpedia Spotlight</h2><p>2010年6月，來自Web Based Systems Group以及柏林自由大學的研究人員開始了一個叫做「DBpedia Spotlight」的計畫，開發工具來將文字資料中使用DBpedia資源的部份加上註解。這個工具解決了過去透過DBpedia連結非結構化資訊來源到開放連結資料雲的問題。DBpedia Spotlight可展示已命名實體擷取（named entity extraction）、包含實體偵測（entity detection）以及命名衝突化解（name resolution）（也就是消歧義（disambiguation））。此工具也能在其他資訊擷取（information extraction）任務中，用來進行命名實體辨識（named entity recognition）。DBpedia Spotlight聚焦在多種不同用途的客製應用。不去聚焦於少部分的實體類型，此計畫試圖支援全部DBpedia上來自超過320個不同分類裡，共約三百五十萬個實體與概念。</p>
<p>DBpedia Spotlight可公開獲取，是以一個為了測試用途而提供的網路服務，或者也可以從Apache授權的Java/Scala API。DBpedia Spotlight分配也包含了一jQuery插件，此插件允許開發人員在網路上的任何一頁加上註解，只要在他們的頁面上增加一行文字即可[18]用戶端也有Java或PHP的支援應用[19]。此工具可從其展示頁（demo page）裡，處理多種的英語資料[20]以及網路服務。國際化的支援部分，只要此語言有開維基百科即可支援[21]。</p>
<p><a href="https://github.com/dbpedia-spotlight/dbpedia-spotlight/wiki" target="_blank" rel="noopener">Home</a><br><a href="http://dbpedia-spotlight.github.io/demo/" target="_blank" rel="noopener">Demo</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/06/Developing_Redis(2)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Plusaber">
      <meta itemprop="description" content="Plusaber's Blog">
      <meta itemprop="image" content="/images/plusaber.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Plusaber's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/10/06/Developing_Redis(2)/" class="post-title-link" itemprop="url">Redis(2)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-10-06 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-06T00:00:00+09:00">2015-10-06</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Developing/" itemprop="url" rel="index"><span itemprop="name">Developing</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/10/06/Developing_Redis(2)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/10/06/Developing_Redis(2)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><p>redis中的事务（transaction）和传统关系型数据库中的事务一样，是一组命令的集合。事务同命令一样都是redis最小的执行单位，一个事务中的命令要么都执行，要么都不执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MULTI</span><br><span class="line"></span><br><span class="line">SADD <span class="string">"user:1:following"</span> 2</span><br><span class="line">SADO <span class="string">"user:2:following"</span> 1</span><br><span class="line"></span><br><span class="line">EXEC</span><br></pre></td></tr></table></figure>
<p>在执行到EXEC之前，前面的命令并不会马上执行，而是添加到等待执行的事务队列中。如果在EXEC之前事务中断，则事务的所有命令都不会被执行，一旦发送了EXEC命令，所有命令都一定会被执行。</p>
<p>另外redis事务还保证一个事务内的命令依次执行而不被其他命令插入，也就是在多个客户端的情况下，一旦某个客户端开始执行某个事务，到结束之前，其他客户端的命令都不会被执行。</p>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><ul>
<li><p>语法错误<br>事务所有命令都不会被执行。</p>
</li>
<li><p>运行错误。比如使用散列类型的命令操作集合类型的键。这种错误在事务中会被接受并继续执行，也就是即使某条命令出现允许错误，其后面的命令还是会被执行，整个事务会被完成。</p>
</li>
</ul>
<p><strong>需要注意的是，redis不支持rollback。</strong></p>
<h2 id="WATCH命令"><a href="#WATCH命令" class="headerlink" title="WATCH命令"></a>WATCH命令</h2><p>很多情况下我们需要保证在我们获得某个键值后，该键值不能被其他客户端修改，直到当前客户端执行事务完成，这时我们可以使用WATCH。WATCH命令可以监控一个或多个键，一旦其中有一个键被修改（或删除），之后的事务就不会被执行（与事务的最后一条性质相违背？没有！！）。监控一直持续到EXEC命令（监控可以在MULTI之前进行，从那时就开始监控，事务中的命令是在EXEC之后才执行的，所以在MULTI命令后可以修改WATCH监控，也就是WATCH作用是，从WATCH开始，到MULTI中间，如果被watch的键被修改，那么这个事务不会被执行）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SET key 1</span><br><span class="line">WATCH key</span><br><span class="line">SET key 2</span><br><span class="line">MULTI</span><br><span class="line">SET key 3</span><br><span class="line">EXEC</span><br><span class="line"></span><br><span class="line">GET key <span class="comment"># 结果是2</span></span><br></pre></td></tr></table></figure>
<p>执行EXEC命令后会取消对所有键的监控，也可以 用UNWATCH命令来取消监控。</p>
<h2 id="生存时间"><a href="#生存时间" class="headerlink" title="生存时间"></a>生存时间</h2><p>在redis可以使用EXPIRE命令设置一个键的生存时间，到时间后redis会自动删除。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EXPIRE key seconds <span class="comment"># 返回1表示设置成功，0表示失败</span></span><br><span class="line">EXPIRE session:29e3d 900</span><br><span class="line"></span><br><span class="line">TTL key <span class="comment"># 还有多少时间会被删除（秒），-1表示键不存在或没有设置时间</span></span><br><span class="line"></span><br><span class="line">PERSIST key<span class="comment"># 取消生存时间设置（恢复为永久保存）</span></span><br></pre></td></tr></table></figure>
<p>除了PRESIST外，使用SET或GETSET命令赋值也同时回清除键的生存时间（恢复为永久）。其他命令只对键值进行操作的命令（INCR,LPUSH,HSET,ZREM）都不会影响键的生存时间。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PEXPIRE key 1000 <span class="comment"># 毫秒位单位</span></span><br></pre></td></tr></table></figure>
<h2 id="实现缓存"><a href="#实现缓存" class="headerlink" title="实现缓存"></a>实现缓存</h2><p>为了提高性能和负载能力，我们通常需要将一些访问频率较高或者计算密集的数据结果缓存起来，并希望这些数据能根据具体访问情况自动更新或过期（性能和有效的内存利用）。由于内存有限，我们不可能无限的将所有数据缓存在内存中，需要按照一定的规则淘汰不需要的缓存键，通过配置文件的maxmemory参数我们可以设置redis最大可用内存大小，超出这个限制时redis回根据maxmemory-policy参数指定的策略删除一些键以空出空间。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>rule</th>
<th>explaination</th>
</tr>
</thead>
<tbody>
<tr>
<td>volatile-lru</td>
<td>使用LRU算法删除一个键（只对设置了生存时间的键）</td>
</tr>
<tr>
<td>allkeys-lru</td>
<td>使用LRU算法删除一个键</td>
</tr>
<tr>
<td>volatile-random</td>
<td>随见删除一个键（只对设置了生存时间的键）</td>
</tr>
<tr>
<td>allkeys-lru</td>
<td>随机删除一个键</td>
</tr>
<tr>
<td>valatile-ttl</td>
<td>删除生存时间最近的一个键</td>
</tr>
<tr>
<td>noeviction</td>
<td>不删除键，返回错误</td>
</tr>
</tbody>
</table>
</div>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><ul>
<li>有序集合</li>
<li>SORT命令</li>
</ul>
<p>SORT可以对集合，列表和有序集合类型进行排序（在对有序集合排序时会忽略元素的分数，只针对元素自身的值进行排序，如数字是根据数字大小，还可以通过ALPHA参数实现按照字典顺序排列非数字元素），使用DESC可以实现将元素从大到小排序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SORT tag:ruby:posts</span><br><span class="line">SORT myzset</span><br><span class="line"></span><br><span class="line">SORT mylistalpha ALPHA DESC</span><br></pre></td></tr></table></figure>
<p>另外SORT还支持LIMIT offset count的用法<br><code>SORT tag:ruby:posts DESC LIMIT 1 2</code></p>
<ul>
<li>BY参数</li>
</ul>
<p>很多时候列表，集合等中存储的元素值代表的是对象ID，单纯对这些ID排序意义不大，我们需要根据ID对于的对象的某个属性进行排序，这时我们可以使用BY参数。<code>BY 参考键</code>，其中参考键可以是字符串类型键或者是散列类型的某个字段<br>（表示为<code>键名-&gt;字段名</code>）。如果提供了BY参数，SORT命令不在根据元素自身的值进行排序，而是对每个元素使用元素的值替换参考键中的第一个<code>*</code>并获取其值，用以进行排序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SORT tag:ruby:posts BY post:*-&gt;time DESC</span><br></pre></td></tr></table></figure>
<p>除散列类型外，参考键还可以是字符串类型：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SORT list my itemscore:* DESC</span><br></pre></td></tr></table></figure>
<p>当某个元素的参考键不存在时，会默认参考键值为0.</p>
<ul>
<li>GET参数</li>
</ul>
<p>GET参数不影响排序，它的作用是使SORT命令的返回结果不再是元素自身的值，而是GET参数中指定的键值。GET参数的规则和BY参数一样，也支持字符串类型和散列类型的键，并同样使用<code>*</code>作为占位符。另外在一个SORT 命令中可以有多个GET参数（而BY参数只能有一个）。</p>
<p><code>SORT tag:ruby:posts BY post:*-&gt;time DESC GET post:*title GET post:*-&gt;time GET #</code></p>
<p>有N个GET参数，每个元素返回的结果就有N行。使用#作为参数可以返回键值本身。</p>
<ul>
<li>STORE参数</li>
</ul>
<p>可以将排序结果使用STORE保存，返回结果为保存结果个数。</p>
<p><code>SORT tag:ruby:posts BY post:*-&gt;time DESC GET post:*title GET post:*-&gt;time GET # STORE stor.result</code></p>
<ul>
<li>性能优化</li>
</ul>
<h2 id="消息通知"><a href="#消息通知" class="headerlink" title="消息通知"></a>消息通知</h2><h3 id="任务队列"><a href="#任务队列" class="headerlink" title="任务队列"></a>任务队列</h3><p>两类实体：生产者和消费者，生产者会将需要处理的任务放入任务队列中，而消费者不断地从任务队列中读入任务信息并执行。使用任务队列可以实现松耦合，使得生产者和消费者都可伸缩，并且在访问量急剧增加的情况下可以根据系统资源情况削峰，降低负载。</p>
<h3 id="使用redis实现任务队列"><a href="#使用redis实现任务队列" class="headerlink" title="使用redis实现任务队列"></a>使用redis实现任务队列</h3><p>最基本使用redis的列表类型，生产者使用LPUSH加入任务，消费者使用RPOP取出任务并执行（while不断循环，可设置间隔时间）。</p>
<p>上面的一个确定是消费者需要不断调用RPOP查看是否存在新任务，带了额外的负载压力。我们可以通过BRPOP实现一旦有新任务就通知消费者，消费者在调用BRPOP之后，如果没有任务则会阻塞，知道有新任务加入。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BRPOP queue 0 <span class="comment"># 0表示一直阻塞，其他表示只会阻塞一定时间</span></span><br></pre></td></tr></table></figure>
<h3 id="优先级队列"><a href="#优先级队列" class="headerlink" title="优先级队列"></a>优先级队列</h3><p>有时一个消费者可能能处理相同类型的不同任务，但优先级不同。如VIP客户的订单处理和普通客户的订单处理，可以将不同类型的客户的订单存在不同队列中。BRPOP命令可以同时接收多个键，并处理第一个存在任务的队列的任务。</p>
<h3 id="『发布-订阅』模式"><a href="#『发布-订阅』模式" class="headerlink" title="『发布/订阅』模式"></a>『发布/订阅』模式</h3><p>除了任务队列以外，redis还提供了一组命令可以让开发者实现”发布/订阅”模式。”发布/订阅”模式同样可以实现进程间的消息传递：订阅者可以订阅一个或若干个频道(channel)，而发布者可以向指定频道发送消息，所有订阅此频道都会收到该消息。</p>
<p>发布者发布消息:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PUBLIC channel.1 hi</span><br></pre></td></tr></table></figure>
<p>订阅频道的命令是SUBSCRIBE，可以同时订阅多个频道。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUBSCRIBE channel.1</span><br></pre></td></tr></table></figure>
<p>进入订阅状态后客户端可能会收到三种类型的回复。每种类型的回复都包含三个值。第一个值是消息的类型，根据消息类型的不同，第二、第三个值的含义也不同。</p>
<p>三种类型：</p>
<ul>
<li>第一个值为”subsribe”。表示订阅成功的反馈信息，第二个值是订阅成功的频道名称，第三个值是当前客户端订阅的频道数量。</li>
<li>第一个值为”message”。一般这种类型是我们关心的，表示接受到的消息。第二个值表示频道名称，第三个值表示消息的内容。</li>
<li>unsubscribe，表示成功取消订阅频道。</li>
</ul>
<p>使用UNSUBSCRIBE命令可以取消订阅指定的频道，如果不指定参数则会取消所有订阅频道。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UNSUBSCRIBE channel1 channel2 ...</span><br></pre></td></tr></table></figure>
<h3 id="按照规则订阅"><a href="#按照规则订阅" class="headerlink" title="按照规则订阅"></a>按照规则订阅</h3><p>PSUBSCRIBE支持通配符匹配:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PSUBSCRIBE channel.?*</span><br><span class="line"></span><br><span class="line">1) pmessage</span><br><span class="line">2) channnel.?*</span><br><span class="line">3) channel.1</span><br><span class="line">4) <span class="string">"hi!"</span></span><br></pre></td></tr></table></figure>
<p>PUNSUBSCRIBE可以退订指定的规则。</p>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/02/Developing_Redis(1)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Plusaber">
      <meta itemprop="description" content="Plusaber's Blog">
      <meta itemprop="image" content="/images/plusaber.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Plusaber's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/10/02/Developing_Redis(1)/" class="post-title-link" itemprop="url">Redis(1)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-10-02 00:00:00" itemprop="dateCreated datePublished" datetime="2015-10-02T00:00:00+09:00">2015-10-02</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Developing/" itemprop="url" rel="index"><span itemprop="name">Developing</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/10/02/Developing_Redis(1)/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/10/02/Developing_Redis(1)/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="Key-value数据库"><a href="#Key-value数据库" class="headerlink" title="Key-value数据库"></a>Key-value数据库</h3><p>Redis是一个key-value数据库，区别与传统的关系型数据库。<br>比如一篇文章在redis存储如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># var[&quot;key&quot;] = &quot;value&quot;</span><br><span class="line">doc[&quot;title&quot;] = &quot;hello, , world&quot;</span><br><span class="line">doc[&quot;author&quot;] = &quot;chen&quot;</span><br><span class="line">doc[&quot;tags&quot;] = [&quot;blog&quot;, &quot;hello&quot;]</span><br></pre></td></tr></table></figure>
<ul>
<li>这样存储也与实际doc结构相一致，更加容易操作，而在mysql存储则需要建立一个表存储doc的基本信息，为了表示tags，需要建立第二表存储tags，还需要第三个表连接doc和tags。</li>
<li>并且key-value数据库可以随时给doc增加属性，且每篇doc属性可以不同，而mysql中需要预先定义好doc的属性，每篇doc都必须有相同的属性，在属性非常稀疏或者经常需要添加之前无法预定义的属性时，mysql等关系型数据库将难以处理。</li>
<li>另外当存在海量的docs时，在关系型数据库中将表示为一张巨大的表，会给索引和检索都带来很大的负担，效率会降低，同时单台机器无法存下过大的表，而垂直增加单台机器的性能是一种很不经济的方式，通过水平扩展增加机器数量是一种更好的解决方案，然而mysql传统关系型数据库对于partition的支持是很差的，难以容易scale。而key-value数据库对于水平扩展具有先天的优势，只需将增加机器，然后将单个单个的文档重新划分到这些机器上，非常容易扩展。</li>
</ul>
<p>这些都是key-value数据库的优势，在处理互联网上海量但是非结构化的数据具有很大的优势。key-value数据库对于不同应用和需求也有很多种，如MongoDB,Cassandra,Dynamo等。</p>
<h3 id="内存存储与持久化"><a href="#内存存储与持久化" class="headerlink" title="内存存储与持久化"></a>内存存储与持久化</h3><p>Redis数据库种所有数据都存储在内存种，所以速度非常快，另外redis同时也提供了对持久化的支持，可以将内存的数据异步写到磁盘中。</p>
<p>另外redis虽然是作为数据库开发的，但是由于其基于内存且提供了很多强大的功能，可以很容易将其用于缓存，队列系统等。</p>
<h2 id="安装和启动"><a href="#安装和启动" class="headerlink" title="安装和启动"></a>安装和启动</h2><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><ul>
<li>到<a href="http://redis.io/download" target="_blank" rel="noopener">官网</a>下载当前版本。</li>
<li>解压并编译</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ tar xzf redis-3.0.7.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> redis-3.0.7</span><br><span class="line">$ make</span><br></pre></td></tr></table></figure>
<h3 id="启动redis-server。"><a href="#启动redis-server。" class="headerlink" title="启动redis server。"></a>启动redis server。</h3><p><code>$ src/redis-server</code><br>也可以将<code>redis-server</code>命令直接加入到系统路径里，或者将<code>redis-server</code>复制到<code>/usr/bin/</code>下，这样后面启动redis server就不需要切换到redis目录中。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/local/redis-3.0.7 redis安装目录</span></span><br><span class="line">vi ~/.bash_profile <span class="comment">#或者其他系统环境文件</span></span><br><span class="line"><span class="comment"># 添加:</span></span><br><span class="line">PATH=<span class="string">"<span class="variable">$PATH</span>"</span>:/usr/<span class="built_in">local</span>/redis-3.0.7/src</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>
<p>redis默认使用6379端口监听，可以通过<code>--port</code>参数设置。</p>
<p><code>redis-server --port 6000</code></p>
<p>另外一种方式是使用初始化脚本启动redis。redis目录下utils目录下有一个redis_init_script的默认初始化脚本，我们可以对其修改以满足我们的需要。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Simple Redis init.d script conceived to work on Linux systems</span></span><br><span class="line"><span class="comment"># as it does use of the /proc filesystem.</span></span><br><span class="line"></span><br><span class="line">REDISPORT=6379</span><br><span class="line">EXEC=/usr/<span class="built_in">local</span>/bin/redis-server</span><br><span class="line">CLIEXEC=/usr/<span class="built_in">local</span>/bin/redis-cli</span><br><span class="line"></span><br><span class="line">PIDFILE=/var/run/redis_<span class="variable">$&#123;REDISPORT&#125;</span>.pid <span class="comment"># pid文件位置</span></span><br><span class="line">CONF=<span class="string">"/etc/redis/<span class="variable">$&#123;REDISPORT&#125;</span>.conf"</span> <span class="comment"># 即是这个脚本文件文件名，可以复制到不同位置以进行启动，但是/etc/redis/目录下必须要要有一份</span></span><br><span class="line"><span class="comment"># /var/redis/端口号  持久化文件存放位置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></span><br><span class="line">    start)</span><br><span class="line">        <span class="keyword">if</span> [ -f <span class="variable">$PIDFILE</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"<span class="variable">$PIDFILE</span> exists, process is already running or crashed"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Starting Redis server..."</span></span><br><span class="line">                <span class="variable">$EXEC</span> <span class="variable">$CONF</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        <span class="keyword">if</span> [ ! -f <span class="variable">$PIDFILE</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"<span class="variable">$PIDFILE</span> does not exist, process is not running"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                PID=$(cat <span class="variable">$PIDFILE</span>)</span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Stopping ..."</span></span><br><span class="line">                <span class="variable">$CLIEXEC</span> -p <span class="variable">$REDISPORT</span> shutdown</span><br><span class="line">                <span class="keyword">while</span> [ -x /proc/<span class="variable">$&#123;PID&#125;</span> ]</span><br><span class="line">                <span class="keyword">do</span></span><br><span class="line">                    <span class="built_in">echo</span> <span class="string">"Waiting for Redis to shutdown ..."</span></span><br><span class="line">                    sleep 1</span><br><span class="line">                <span class="keyword">done</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Redis stopped"</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Please use start or stop as first argument"</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p>之后可以启动如下：</p>
<p><code>redis_6000 start # redis_6000 即是上面脚本文件的文件名</code></p>
<p>另外如果需要更多的配置，如端口号，持久化文件存放地址等，最好的方式是启动时指定配置文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server /path/to/redis/conf</span><br></pre></td></tr></table></figure>
<p>通过启动参数传递同名的配置选项会覆盖配置文件中相应的参数。</p>
<h3 id="server交互"><a href="#server交互" class="headerlink" title="server交互"></a>server交互</h3><p>之后可以通过命令行终端或者编程语言接口与server交互。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli</span><br><span class="line"><span class="comment"># redis-cli -h 127.0.0.1 -p 6000 如果需要指定服务所在地址和端口</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PING 测试连接是否正常</span></span><br><span class="line"></span><br><span class="line">redis&gt; <span class="built_in">set</span> foo bar</span><br><span class="line">OK</span><br><span class="line">redis&gt; get foo</span><br><span class="line"><span class="string">"bar"</span></span><br></pre></td></tr></table></figure>
<h3 id="停止redis"><a href="#停止redis" class="headerlink" title="停止redis"></a>停止redis</h3><p><code>redis-cli SHUTDOWN</code></p>
<h2 id="基本使用（命令行终端）"><a href="#基本使用（命令行终端）" class="headerlink" title="基本使用（命令行终端）"></a>基本使用（命令行终端）</h2><h3 id="redis实例与数据库"><a href="#redis实例与数据库" class="headerlink" title="redis实例与数据库"></a>redis实例与数据库</h3><p>一个redis实例以默认的配置启动后，提供了多个字典（数据库），客户端可以指定将数据存在哪个数据库中。每个数据库使用一个数字来表示(不支持数据库命名，不同数据库没有不同的访问密码，另外数据库并不是完全隔离的，所以redis里的数据库更像是一种命名空间，所以一个redis实例不适合存储不同应用程序的数据)，默认有16个数据库，可以通过配置参数databases来修改。默认会直接进入0号数据库，可以通过SELECT更换数据库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 1</span><br></pre></td></tr></table></figure>
<h3 id="键操作命令"><a href="#键操作命令" class="headerlink" title="键操作命令"></a>键操作命令</h3><ul>
<li>获得符合规则的键名列表<br><code>KEYS pattern # 不区分大小写，可以使用正则表达式</code></li>
</ul>
<p>一些简单的通配符规则：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>sign</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>任意一个字符</td>
</tr>
<tr>
<td>？</td>
<td>任意个字符</td>
</tr>
<tr>
<td>[]</td>
<td>匹配括号内的任意一个字符，可以使用”-“表示区间，如[a-zA-z]</td>
</tr>
<tr>
<td>\x</td>
<td>转义通配符</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>判断键是否存在<br><code>EXISTS key</code><br>如果存在则返回整数类型1，否则返回0</p>
</li>
<li><p>删除键<br><code>DEL key1 key2 key3 ... # 可以一次删除多个键</code></p>
</li>
</ul>
<p>del命令参数不支持通配符，但是可以结合linux管道和xargs命令实现删除所有符合规则的键，如：<br><code>redis-cli KEYS &quot;*&quot;</code> | xargs redis-cli DEL<br>或者以符合规则的键作为参数：<br>redis-cli DEL `redis-cli’ KEYS “*” ` # 注意这个一个linux嵌入命令，不是单引号。</p>
<ul>
<li>获得键值的数据类型<br><code>TYPE key</code><br>返回值可能为string, hash, list, set, zset(有序集合类型)</li>
</ul>
<h3 id="基本操作命令"><a href="#基本操作命令" class="headerlink" title="基本操作命令"></a>基本操作命令</h3><ul>
<li>赋值与取值</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SET key value</span><br><span class="line">GET key</span><br></pre></td></tr></table></figure>
<ul>
<li>递增递减数字</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INCR key <span class="comment"># 必须为整数类型</span></span><br><span class="line"></span><br><span class="line">INCRBY key increment</span><br><span class="line">INCRBY bar 2</span><br><span class="line"></span><br><span class="line">DECR key</span><br><span class="line">DECYBY key decrement</span><br><span class="line"></span><br><span class="line">INCRBYFLOAT key increment <span class="comment"># 双精度浮点数增加</span></span><br></pre></td></tr></table></figure>
<ul>
<li>追加</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SET key hello</span><br><span class="line">APPEND key <span class="string">" world"</span> <span class="comment"># 如果不存在就相当于SET</span></span><br></pre></td></tr></table></figure>
<ul>
<li>字符串长度</li>
</ul>
<p><code>STRLEN key</code></p>
<ul>
<li>同时获取/设置多个键值</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MGET key1 key2 ... </span><br><span class="line">MSET key1 value1 key2 value2 ...</span><br></pre></td></tr></table></figure>
<ul>
<li>位操作</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GETBIT key offset <span class="comment"># 可以对字符串操作</span></span><br><span class="line">SETBIT key offset value</span><br><span class="line">BITCOUNT key [start] [end] <span class="comment"># 1的个数</span></span><br><span class="line">BITOP operation destkey key1 key2 ...</span><br></pre></td></tr></table></figure>
<h3 id="散列类型"><a href="#散列类型" class="headerlink" title="散列类型"></a>散列类型</h3><p>散列类型适合存储对象，使用对象类别和ID构成键名，使用字段表示对象的属性，而字段值则存储属性值（除了散列类型，redis的其他数据类型同样不支持数据类型嵌套，如集合类型的每个元素都只能是字符串，不能是另一个集合或散列）。</p>
<ul>
<li>赋值与取值</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HSET key field value</span><br><span class="line">HGET key field</span><br><span class="line"></span><br><span class="line">HMSET key field1 value1 field2 value2</span><br><span class="line">HMGET key field1 field2</span><br><span class="line">HGETALL key</span><br><span class="line"></span><br><span class="line">HSET car price 500</span><br><span class="line">HSET car name BMW</span><br></pre></td></tr></table></figure>
<p>redis中每个键都属于一个明确的数据类型，如通过HSET命令建立的键是散列类型，通过SET命令建立的键是字符串类型等。</p>
<ul>
<li>判断字段是否存在</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HEXISTS key field</span><br><span class="line"></span><br><span class="line">HEXISTS car name</span><br></pre></td></tr></table></figure>
<ul>
<li>当字段不存在时赋值</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HSETNX key field value</span><br></pre></td></tr></table></figure>
<ul>
<li>增减数字</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HINCRBY key field increment</span><br><span class="line"></span><br><span class="line">HINCRBY car price 100 <span class="comment"># 如果键不存在，则会建立</span></span><br></pre></td></tr></table></figure>
<ul>
<li>删除字段</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HDEL key field1 field2 ...</span><br></pre></td></tr></table></figure>
<ul>
<li>获取字段名或字段值（属性值），字段数量</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HKEYS key</span><br><span class="line">HVALS key</span><br><span class="line">HLEN key</span><br></pre></td></tr></table></figure>
<h3 id="列表类型"><a href="#列表类型" class="headerlink" title="列表类型"></a>列表类型</h3><p>列表类型list可以存储一个有序的字符串列表，常用操作是向列表两段添加元素，或者获得列表的一个片段。redis中列表是使用双向链表实现，头尾添加删除很快，注意索引访问速度会比较慢，特别是访问中间的元素。</p>
<ul>
<li>向两端加入元素</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">LPUSH key value1 value2 ...</span><br><span class="line">RPUSH key value1 value2 ...</span><br><span class="line"></span><br><span class="line">LPUSH nums 1</span><br><span class="line">LPUSH nums 2 3</span><br><span class="line"><span class="comment"># 3 2 1</span></span><br><span class="line">RPUSH nums 0 -1</span><br><span class="line"><span class="comment"># 3 2 1 0 -1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>从列表两端弹出元素</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LPOP key</span><br><span class="line">RPOP key</span><br></pre></td></tr></table></figure>
<ul>
<li>获取列表中元素的个数</li>
</ul>
<p><code>LLEN key # O(1)</code></p>
<ul>
<li>获取片段</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LRANGE key start stop <span class="comment"># first element 0</span></span><br><span class="line"></span><br><span class="line">LRANGE nums -2 -1 <span class="comment"># -1, 最右边的第一个元素...</span></span><br></pre></td></tr></table></figure>
<ul>
<li>删除指定值</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LREM key count value <span class="comment"># 删除列表中前count个值为value的元素</span></span><br><span class="line"><span class="comment"># count&lt;0从右边开始删除，count=0删除所有</span></span><br></pre></td></tr></table></figure>
<h3 id="集合类型"><a href="#集合类型" class="headerlink" title="集合类型"></a>集合类型</h3><p>集合使用hashset实现。</p>
<ul>
<li>增加/删除元素</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SADD key member1 member2 ... <span class="comment"># 返回新增成功的个数</span></span><br><span class="line">SREM key member1 member2 ... <span class="comment"># 返回删除成功的个数</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>获得所有元素<br><code>SMEMBERS key</code></p>
</li>
<li><p>判断是否存在<br><code>SISMEMBER key member</code></p>
</li>
<li><p>集合间运算</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SDIFF key1 key2 ...</span><br><span class="line">SINTER key1 key2 ...</span><br><span class="line">SUNION key1 key2 ...</span><br><span class="line"></span><br><span class="line">SDIFFSTORE destination key1 key2...</span><br><span class="line">SINTERSTORE destination key1 key2... </span><br><span class="line">SUNIONSTORE destination key1 key2...</span><br></pre></td></tr></table></figure>
<ul>
<li><p>元素个数<br><code>SCARD key</code></p>
</li>
<li><p>随机获得集合元素<br><code>SRANDMEMBER key [count]</code></p>
</li>
<li><p>随机弹出一个元素<br><code>SPOP key</code></p>
</li>
</ul>
<h3 id="有序集合类型"><a href="#有序集合类型" class="headerlink" title="有序集合类型"></a>有序集合类型</h3><p>sorted set，每个元素具有分数（权值）的set，如果将当分数设为index大小，则可以实现list的功能。</p>
<ul>
<li><p>增加元素<br><code>ZADD key score1 member1 score2 ...</code></p>
</li>
<li><p>获得元素的分数<br><code>ZSCORE key member</code></p>
</li>
<li><p>获得排名在某个范围内的元素列表<br><code>ZRANGE key start stop [WITHSCORES]</code> # 分数从小到大<br><code>Zrevrange key start stop [WITHSCORES]</code> # 分数从大到小</p>
</li>
<li><p>获得指定分数范围</p>
</li>
</ul>
<p><code>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</code></p>
<ul>
<li>增加某个元素的分数</li>
</ul>
<p><code>ZINCRBY key increment member</code></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/09/16/Blogging_Markdown简明语法手册/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Plusaber">
      <meta itemprop="description" content="Plusaber's Blog">
      <meta itemprop="image" content="/images/plusaber.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Plusaber's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/09/16/Blogging_Markdown简明语法手册/" class="post-title-link" itemprop="url">Markdown简明语法手册</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-09-16 00:00:00" itemprop="dateCreated datePublished" datetime="2015-09-16T00:00:00+09:00">2015-09-16</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Blogging/" itemprop="url" rel="index"><span itemprop="name">Blogging</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">Comments: </span>
                <a href="/2015/09/16/Blogging_Markdown简明语法手册/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/09/16/Blogging_Markdown简明语法手册/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Markdown语法"><a href="#Markdown语法" class="headerlink" title="[Markdown语法]"></a>[Markdown语法]</h1><p>一个很好的编辑器及语法简明手册，不过并不是所有都兼容其他编辑器或博客。这里对参考<a href="https://www.zybuluo.com/mdeditor#137019" target="_blank" rel="noopener">Cmd Markdown</a>对常用及兼容的子集进行了总结，完整内容请参考<a href="https://www.zybuluo.com/mdeditor#137019" target="_blank" rel="noopener">Cmd Markdown</a>。</p>
<p>Mac下另一个强大的编辑器是<a href="http://macdown.uranusjr.com" target="_blank" rel="noopener">MacDown</a>,支持PDF导出。</p>
<h3 id="1-字体"><a href="#1-字体" class="headerlink" title="1. 字体"></a>1. 字体</h3><p>使用 <em> 和 *</em> 表示斜体和粗体。也可以使用HTML标签属性修改颜色。</p>
<p><code>*斜体*，**粗体**。</code></p>
<p><em>斜体</em>，<strong>粗体</strong>。</p>
<h3 id="2-分级标题"><a href="#2-分级标题" class="headerlink" title="2. 分级标题"></a>2. 分级标题</h3><p>在行的开头加#号表示标题，数量表示标题级别, 如：# H1, ## H2, ### H3，#### H4。<br>或者在行的下方使用 === 表示一级标题，使用 —- 表示二级标题。</p>
<h3 id="3-外链接"><a href="#3-外链接" class="headerlink" title="3. 外链接"></a>3. 外链接</h3><p>使用 [描述](链接地址) 为文字增加外链接。</p>
<p><code>[leetcode](https://leetcode.com/problemset/algorithms/)</code><br> <a href="https://leetcode.com/problemset/algorithms/" target="_blank" rel="noopener">leetcode</a></p>
<h3 id="4-无序列表"><a href="#4-无序列表" class="headerlink" title="4. 无序列表"></a>4. 无序列表</h3><p>使用 *，+，- 表示无序列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- hello1</span><br><span class="line">- hello2</span><br><span class="line">- hello3</span><br></pre></td></tr></table></figure>
<ul>
<li>hello1</li>
<li>hello2</li>
<li>hello3</li>
</ul>
<h3 id="5-有序列表"><a href="#5-有序列表" class="headerlink" title="5. 有序列表"></a>5. 有序列表</h3><p>使用数字和点表示有序列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. hello1</span><br><span class="line">2. hello2</span><br><span class="line">3. hello3</span><br></pre></td></tr></table></figure>
<ol>
<li>hello1</li>
<li>hello2</li>
<li>hello3</li>
</ol>
<h3 id="6-文字引用"><a href="#6-文字引用" class="headerlink" title="6. 文字引用"></a>6. 文字引用</h3><p>使用 &gt; 表示文字引用。</p>
<p><code>&gt; 野火烧不尽，春风吹又生。</code></p>
<blockquote>
<p>野火烧不尽，春风吹又生。</p>
</blockquote>
<h3 id="7-行内代码块"><a href="#7-行内代码块" class="headerlink" title="7. 行内代码块"></a>7. 行内代码块</h3><p>使用 `代码` 表示行内代码块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello, `word`。</span><br></pre></td></tr></table></figure>
<p>Hello, <code>word</code>。</p>
<h3 id="8-插入图像"><a href="#8-插入图像" class="headerlink" title="8.  插入图像"></a>8.  插入图像</h3><p>使用 ![描述](图片链接地址) 插入图像。</p>
<p>示例：<br><code>![hello](http://plusaber.net/images/plusaber.jpg)</code></p>
<p><img src="http://plusaber.net/images/plusaber.jpg" alt="hello"></p>
<h3 id="9-内容目录"><a href="#9-内容目录" class="headerlink" title="9. 内容目录"></a>9. 内容目录</h3><p>在段落中填写 <code>[TOC]</code> 以显示全文内容的目录结构。NextT似乎是不支持，无法展示。</p>
<p><code>[TOC]</code></p>
<h3 id="10-标签"><a href="#10-标签" class="headerlink" title="10. 标签"></a>10. 标签</h3><p>标签格式在各个编辑器是有些不兼容的。</p>
<p>Cmd编辑器为：<br><code>Tags： 数学 英语 Markdown</code></p>
<p>对于NextT为：<br><code>tags: [leetcode, dynamic programming, unique paths]</code></p>
<h3 id="11-目录"><a href="#11-目录" class="headerlink" title="11. 目录"></a>11. 目录</h3><p>目录也存在兼容问题，cmd貌似不兼容</p>
<p>NexT为：<br><code>categories: Blogging</code></p>
<h3 id="12-删除线"><a href="#12-删除线" class="headerlink" title="12. 删除线"></a>12. 删除线</h3><p>使用 ~~ 表示删除线。</p>
<p><code>~~这是一段错误的文本。~~</code></p>
<p><del>这是一段错误的文本。</del></p>
<h3 id="13-注脚"><a href="#13-注脚" class="headerlink" title="13. 注脚"></a>13. 注脚</h3><p>使用 <sup><a href="#fn_keyword" id="reffn_keyword">keyword</a></sup> 表示注脚。NextT似乎是不支持，无法展示。</p>
<p><code>注脚[^footnote]的样例。</code></p>
<p>注脚<sup><a href="#fn_footnote" id="reffn_footnote">footnote</a></sup>的样例。</p>
<h3 id="14-LaTeX-公式"><a href="#14-LaTeX-公式" class="headerlink" title="14. LaTeX 公式"></a>14. LaTeX 公式</h3><p>$ 表示行内公式： </p>
<p>质能守恒方程可以用一个很简洁的方程式 $E=mc^2$ 来表达。</p>
<script type="math/tex; mode=display">表示整行公式：

$$\sum_{i=1}^n a_i=0</script><script type="math/tex; mode=display">f(x_1,x_x,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2</script><p>一个不错的介绍<a href="http://mlworks.cn/posts/introduction-to-mathjax-and-latex-expression/" target="_blank" rel="noopener">Mathjax与LaTex公式简介</a>。</p>
<p>或者参考<a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="noopener">MathJax</a>。</p>
<h3 id="14-加强代码块"><a href="#14-加强代码块" class="headerlink" title="14. 加强代码块"></a>14. 加强代码块</h3><p>非代码示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install vim-gnome</span><br></pre></td></tr></table></figure>
<p>Python 示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@requires_authorization</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">somefunc</span><span class="params">(param1=<span class="string">''</span>, param2=<span class="number">0</span>)</span>:</span></span><br><span class="line">    <span class="string">'''A docstring'''</span></span><br><span class="line">    <span class="keyword">if</span> param1 &gt; param2: <span class="comment"># interesting</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'Greater'</span></span><br><span class="line">    <span class="keyword">return</span> (param2 - param1 + <span class="number">1</span>) <span class="keyword">or</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>message = <span class="string">'''interpreter</span></span><br><span class="line"><span class="string"><span class="meta">... </span>prompt'''</span></span><br></pre></td></tr></table></figure>
<h3 id="15-表格支持"><a href="#15-表格支持" class="headerlink" title="15. 表格支持"></a>15. 表格支持</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| 项目        | 价格   |  数量  |</span><br><span class="line">| --------   | -----:  | :----:  |</span><br><span class="line">| 计算机     | \$1600 |   5     |</span><br><span class="line">| 手机        |   \$12   |   12   |</span><br><span class="line">| 管线        |    \$1    |  234  |</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>计算机</td>
<td style="text-align:right">$1600</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td>手机</td>
<td style="text-align:right">$12</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>管线</td>
<td style="text-align:right">$1</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
</div>
<h3 id="16-Html-标签"><a href="#16-Html-标签" class="headerlink" title="16. Html 标签"></a>16. Html 标签</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th rowspan=&quot;2&quot;&gt;值班人员&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;星期一&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;星期二&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;星期三&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;李强&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;张明&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;王平&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
<table>
    <tr>
        <th rowspan="2">值班人员</th>
        <th>星期一</th>
        <th>星期二</th>
        <th>星期三</th>
    </tr>
    <tr>
        <td>李强</td>
        <td>张明</td>
        <td>王平</td>
    </tr>
</table>


<blockquote id="fn_footnote">
<sup>footnote</sup>. 这是一个 <em>注脚</em> 的 <strong>文本</strong>。<a href="#reffn_footnote" title="Jump back to footnote [footnote] in the text."> &#8617;</a>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/plusaber.jpg" alt="Plusaber">
            
              <p class="site-author-name" itemprop="name">Plusaber</p>
              <div class="site-description motion-element" itemprop="description">Plusaber's Blog</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">82</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://jp.linkedin.com/in/zebangchen" title="https://jp.linkedin.com/in/zebangchen" rel="noopener" target="_blank">LinkedIn</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://indeed.com" title="https://indeed.com" rel="noopener" target="_blank">Indeed</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://baito.indeed.com" title="https://baito.indeed.com" rel="noopener" target="_blank">Baito</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.kaggle.com" title="https://www.kaggle.com" rel="noopener" target="_blank">Kaggle</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2014 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Plusaber</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  
  
  <script id="dsq-count-scr" src="https://plusaber.disqus.com/count.js" async></script>







  




  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
        
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') { next = next.nextSibling }
        if (next && next.nodeName.toLowerCase() === 'br') { next.parentNode.removeChild(next) }
      }
    });
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      document.getElementById(all[i].inputID + '-Frame').parentNode.className += ' has-jax';
    }
  });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').not('.gist .highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
      ta.blur(); // For iOS
      $(this).blur();
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('Copy');
      }, 300);
    }).append(e);
  })
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

</body>
</html>
